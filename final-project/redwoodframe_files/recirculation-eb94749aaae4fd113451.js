!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="eebc5dd8-af29-46db-a14c-d65ebfcd3582",e._sentryDebugIdIdentifier="sentry-dbid-eebc5dd8-af29-46db-a14c-d65ebfcd3582")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"2b507c3dac463e7c129ea1e80c9b673f3342b525"},(window.webpackJsonp=window.webpackJsonp||[]).push([[133],{"+D1i":function(e,t,n){"use strict";n.d(t,"e",(function(){return o})),n.d(t,"l",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"d",(function(){return s})),n.d(t,"o",(function(){return d})),n.d(t,"g",(function(){return u})),n.d(t,"i",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"a",(function(){return f})),n.d(t,"m",(function(){return g})),n.d(t,"b",(function(){return b})),n.d(t,"k",(function(){return v})),n.d(t,"h",(function(){return h})),n.d(t,"n",(function(){return y})),n.d(t,"j",(function(){return w}));var i=n("Jqp9"),r=n("wXC7"),a=n.n(r),o=Object(i.css)(a.a.breakpoint.small,"{flex-wrap:wrap;flex:0 1 calc(50% - 16px);justify-content:space-between;}",a.a.breakpoint.medium,"{flex:0 1 calc(50% - 16px);}",a.a.breakpoint.mediumLarge,"{flex:0 1 calc(50% - 16px);}",a.a.breakpoint.large,"{flex:0 1 calc(33% - 16px);}"),c=(a.a.breakpoint.small,a.a.breakpoint.medium,a.a.breakpoint.mediumLarge,a.a.breakpoint.large,Object(i.css)("@media (min-width:768px){&:hover{circle{fill:",a.a.color.gray10,";stroke:",a.a.color.gray10,";}line{stroke:",a.a.color.white,";}}}")),l=Object(i.css)("&:hover{circle{fill:",a.a.color.gray40,";stroke:",a.a.color.gray40,";}line{stroke:",a.a.color.white,";}}"),s=Object(i.css)("font-family:",a.a.font.franklinBase,";border:1px solid ",a.a.color.gray50,";margin-bottom:24px;cursor:pointer;position:relative;width:312px;flex:0 0 auto;align-items:center;justify-content:center;"),d=Object(i.css)("padding:28px 16px 16px;flex-direction:column;flex-grow:2;display:flex;svg{width:40px;height:40px;}",a.a.breakpoint.small,"{svg{width:30px;height:30px;}}"),u=Object(i.css)("cursor:pointer;position:absolute;right:15px;top:15px;"),p=Object(i.css)("text-transform:uppercase;font-weight:600;font-size:",a.a.font.size(14),";margin:0 0 12px 0;letter-spacing:0.04rem;",a.a.breakpoint.small,"{font-size:",a.a.font.size(12),";}"),m=Object(i.css)("font-family:",a.a.font.cheltenham,";font-weight:200;font-size:",a.a.font.size(22),";line-height:",a.a.font.size(26),";padding:0 32px 0 0;min-height:94px;",a.a.breakpoint.small,"{letter-spacing:0.25px;font-size:",a.a.font.size(18),";line-height:",a.a.font.size(23.4),";}"),f=Object(i.css)("border-top:1px solid ",a.a.color.gray50,";margin:0 16px;padding:16px 0;display:flex;align-content:flex-start;align-items:flex-start;"),g=Object(i.css)("width:88px;height:88px;",a.a.breakpoint.small,"{width:58px;height:58px;}"),b=Object(i.css)("flex:1;"),v=Object(i.css)("font-weight:500;display:inline-block;padding:5px 10px 3px;letter-spacing:0.09em;font-size:",a.a.font.size(11),";line-height:16px;background:#ebebeb;color:#363636;border-radius:100px;text-transform:uppercase;margin:0 0 8px 6px;"),h=Object(i.css)("text-transform:uppercase;font-weight:500;letter-spacing:0.02rem;font-size:",a.a.font.size(12),";margin:0 0 4px 16px;",a.a.breakpoint.small,"{line-height:",a.a.font.size(12),";font-size:",a.a.font.size(10),";}"),y=Object(i.css)("font-weight:700;font-size:",a.a.font.size(20),";margin:0 0 16px 16px;",a.a.breakpoint.small,"{line-height:",a.a.font.size(19.2),";font-size:",a.a.font.size(16),";margin:0 0 4px 16px;}"),w=Object(i.css)("font-weight:600;font-size:",a.a.font.size(16),";color:#326891;text-decoration:underline;margin:0 0 16px 16px;",a.a.breakpoint.small,"{font-size:",a.a.font.size(14),";}&:hover{text-decoration:unset;}")},"+mHm":function(e,t,n){"use strict";n.r(t);var i,r=n("lSNA"),a=n.n(r),o=n("gcR/"),c=n.n(o),l=n("J4zp"),s=n.n(l),d=n("q1tI"),u=n.n(d),p=n("Kxyt"),m=n("Jqp9"),f=n("X6oL"),g=n("+ClL"),b=n("wXC7"),v=n.n(b),h=n("rWB7"),y=n("Tonn"),w=n("SYzA"),x=n("eGUr"),O=n("pCca"),k=n("FSO8"),j=n("SBGf"),S=n("aqKU"),N=n("VkAN"),I=n.n(N),P=n("eFc+"),C=n("9i1U"),T=n("PvUX"),z=Object(P.gql)(i||(i=I()(['\n  query RecirculationQuery(\n    $assetUri: String\n    $deviceType: PersonalizationDeviceType!\n    $ids: [ID!]!\n    $originalReferrer: String\n    $referrer: String\n    $sectionName: String\n    $url: String!\n  ) {\n    anyWork(id: $url) {\n      ... on Article {\n        id\n        uri\n      }\n      ... on Interactive {\n        id\n      }\n      ... on LegacyCollection {\n        id\n      }\n    }\n    collections: anyWorks(ids: $ids) {\n      ... on Node {\n        id\n      }\n      ... on LegacyCollection {\n        id\n        collectionType\n        tagline\n        type\n        name\n        url\n        uri\n        assets(first: 10) {\n          ...Connection_pageInfo\n          totalCount\n          edges {\n            cursor\n            node {\n              __typename\n              ... on Node {\n                id\n                ...RecirculationItem_item\n              }\n            }\n          }\n        }\n      }\n    }\n    personalizedLists: lists {\n      personalizedComposition(\n        compId: "end-of-story"\n        personalizedListContext: {\n          referrer: $referrer\n          originalReferrer: $originalReferrer\n          deviceType: $deviceType\n          appType: WEB\n          assetUri: $assetUri\n          sectionName: $sectionName\n        }\n      ) {\n        name\n        metadata {\n          name\n          uri\n          label\n          assetCount\n        }\n        surfaces {\n          ...Connection_pageInfo\n          pageInfo {\n            hasNextPage\n            hasPreviousPage\n            startCursor\n            endCursor\n          }\n          totalCount\n          metadata {\n            uri\n            trackingParams {\n              key\n              value\n            }\n          }\n          ...RecirculationItem_personalized\n        }\n      }\n    }\n  }\n  ',"\n  ","\n  ","\n"])),T.a.fragments.item,T.a.fragments.personalized,C.a),E=n("fZdH"),A=n("NW2b"),L=n("B2Q+"),M=n("d3NK"),R=n("hkPW"),_=function(e){var t=e.packageLabel,n=e.trackingName,i=e.region,r=e.setShowMore,a=Object(f.useTracking)().trackEvent,o=Object(j.i)({packageLabel:t,trackingName:n,region:i,type:"eos-show-more"}),c=Object(R.a)({threshold:.5,data:o}),l=c.isTracked,s=c.ref;return u.a.createElement("button",{ref:l?null:s,type:"button",className:S.i,onClick:function(){a(Object(j.j)({packageLabel:t,trackingName:n,type:"eos-show-more"})),r(!0)}},"Show more")};_.displayName="ShowMoreButton",_.defaultProps={packageLabel:"",trackingName:"",region:"footer",setShowMore:function(){return null}};var D=_;function W(e){var t,n,i,r=e.collectionTagline,a=e.hasIdenticalHeadlines,o=e.items,l=e.packageArea,u=e.packageLabel,p=e.packageSize,m=e.packageTrackingParams,f=e.packageUrl,g=e.trackingName,b=Object(d.useState)(!1),v=s()(b,2),h=v[0],y=v[1],w=Object(d.useState)(!1),x=s()(w,2),O=x[0],k=x[1],N=Object(L.a)(),I="smartphone"===N,P=Object(E.a)();P&&null!==(t=P[j.a])&&void 0!==t&&t.allocated&&(Object(A.e)(j.a),i=P[j.a].variant);var C=Object(j.k)(i),z=C.min,R=C.max,_="1_show_button_all"===i&&o.length>z;if(I)o.includes(j.b)&&(z+=1,R+=1),o=o.slice(0,O?R:z);else if(p&&N&&p[N]){var W=p[N],U=W.storiesPerRow,q=W.maxStoriesToShow,F=o.includes(j.b)&&h,B=o.length%U;B&&o.splice(o.length-B,B),o=o.slice(0,F?q+1:q)}var H="".concat(null==u?void 0:u.toLowerCase().replace(/ +/g,"-").replace(/[^a-z0-9-]/gi,""),"-section");return null!==(n=o)&&void 0!==n&&n.length?c()("section",{"aria-labelledby":H},void 0,c()("div",{className:S.c},void 0,c()("h3",{id:H,className:S.b},void 0,f?c()("a",{href:f},void 0,u):u)),r&&c()("span",{className:S.j,dangerouslySetInnerHTML:{__html:r}}),c()("ul",{className:S.f,role:"list"},void 0,o.map((function(e,t){return e===j.b?h?null:c()("div",{className:S.e},j.b,c()(M.a,{id:"pp_morein",adDidNotDisplay:function(){return y(!0)}})):c()(T.a,{item:e.node,index:t,packageArea:l,packageLabel:u,trackingName:g,trackingParams:e.trackingParams,isMobile:I,packageTrackingParams:m,useHeadlineFallback:a},e.node.id)})),I&&!O&&_&&c()(D,{packageLabel:u,trackingName:g,setShowMore:k}))):null}W.displayName="RecirculationPackage",W.defaultProps={collectionTagline:void 0,hasIdenticalHeadlines:!1,items:[],packageArea:"package",packageSize:void 0,packageTrackingParams:[],packageUrl:void 0};var U,q=W,F=n("Gl8y"),B=n("MLAy"),H=Object(m.css)("margin:0 20px;display:flex;flex-wrap:wrap;width:100%;border-top:2px solid ",v.a.color.black,";",v.a.breakpoint.small,"{border-top:1px solid ",v.a.color.black,";}",v.a.breakpoint.medium,"{margin:0;}"),X=Object(m.css)("font-weight:700;font-size:",v.a.font.size(15),";margin:13px 0 0 0;flex-direction:column;width:100%;",v.a.breakpoint.medium,"{font-size:",v.a.font.size(16),";}"),G=Object(m.css)("font-family:",v.a.font.cheltenham,";font-weight:200;font-size:",v.a.font.size(28),";line-height:",v.a.font.size(33.6),";flex-direction:column;width:100%;margin:22px 0 40px 0;",v.a.breakpoint.small,"{font-size:",v.a.font.size(24),";line-height:",v.a.font.size(30),";}"),V=Object(m.css)("text-decoration:underline;&:hover{text-decoration:unset;}"),J=function(){var e=Object(f.useTracking)().trackEvent;return c()("div",{className:H},void 0,U||(U=c()("div",{className:X},void 0,"Explore our newsletters")),c()("div",{className:G},void 0,"Build your routine with some of our top newsletters or"," ",c()("a",{target:"_blank",rel:"noreferrer",className:V,onClick:function(){return e({event:"moduleInteraction",eventData:{pagetype:"article",trigger:"module",type:"click"},module:{name:"bottom-of-story",context:"standard",region:"footer",element:{name:"view-all-newsletters",label:"view-them-all-here",url:"https://www.nytimes.com/newsletters"}}})},href:"https://www.nytimes.com/newsletters"},void 0,"view them all here.")))};J.displayName="Header";var Q=J,K=Object(m.css)("font-family:",v.a.font.franklinBase,";display:flex;flex-wrap:wrap;"),$=n("/J4J"),Y=n("RIqP"),Z=n.n(Y),ee=Object(m.css)("display:flex;flex-wrap:nowrap;flex-direction:row;overflow-x:scroll;scroll-snap-type:x mandatory;-ms-overflow-style:none;scrollbar-width:none;margin:0 0 20px 0;&::-webkit-scrollbar{display:none;}& > *{scroll-snap-align:center;}"),te=Object(m.css)("display:flex;overflow-x:scroll;scroll-snap-type:x mandatory;-ms-overflow-style:none;scrollbar-width:none;&::-webkit-scrollbar{display:none;}& > *{scroll-snap-align:center;margin:0 0 0 16px;height:335px;display:flex;align-items:stretch !important;flex-direction:column;}& > *:first-child{margin:0 0 0 20px;}& > *:last-child{margin:0 20px 0 16px;}"),ne=n("3sMT"),ie=Object(m.css)("list-style:none;counter-reset:list-block-counter;display:inline-flex;flex-flow:row nowrap;align-items:center;justify-content:center;width:100%;margin:0 0 50px 0;"),re=Object(m.css)("margin:0 6px 0 0;width:6px;height:6px;border-radius:50%;background-color:",ne.color.background.quaternary,";transition:background-color 0.2s ease;"),ae=Object(m.css)("background-color:",ne.color.background.inversePrimary,";");function oe(e){var t,n=e.index,i=e.length;return c()("ul",{className:ie},void 0,(t=function(e){return c()("li",{className:Object(m.cx)(re,a()({},ae,e===n))},e)},new Array(i).fill(null).map((function(e,n){return t(n)}))))}oe.displayName="DotNav",oe.defaultProps={index:0};var ce=oe;function le(e){var t=e.children,n=Object(d.useRef)(),i=function(e){var t=Object(d.useState)(0),n=s()(t,2),i=n[0],r=n[1];return Object(d.useEffect)((function(){var t=e.current,n=function(){var e=t.getBoundingClientRect(),n=Array.from(t.children).filter((function(t){var n=t.getBoundingClientRect();return n.left>=e.left&&n.right<=e.right}));if(n.length>0){var i=Z()(t.children).indexOf(n[0]);r(i)}};return n(),t.addEventListener("scroll",n,{passive:!0}),function(){t.removeEventListener("scroll",n,{passive:!0})}}),[e]),{cardIndex:i}}(n).cardIndex;return u.a.createElement(u.a.Fragment,null,c()("div",{className:ee},void 0,u.a.createElement("div",{className:te,ref:n},t)),c()(ce,{index:i,length:t.length}))}le.defaultProps={children:null};var se=le,de=(v.a.breakpoint.small,v.a.breakpoint.medium,v.a.breakpoint.large,Object(m.css)("display:flex;flex-wrap:wrap;margin:0 20px;justify-content:center;div[role='button']{width:100%;}div[role='button']:nth-child(n + 6){display:none;}",v.a.breakpoint.small,"{justify-content:space-between;div[role='button']{width:320px;}div[role='button']:nth-child(n + 6){display:block;}div[role='button']:nth-child(n + 7){display:none;}}",v.a.breakpoint.medium,"{margin:0;}")),ue=Object(m.css)("overflow:hidden;"),pe=n("+D1i"),me={NA:{kicker:"stay up to date",caption:"Get informed as important news breaks around the world."},NN:{kicker:"wake up informed",caption:"Make sense of the day’s news and ideas."},FORY:{kicker:"read stories for you",caption:"Receive a roundup of the best stories for you, based on your interests."},TY:{kicker:"get perspectives",caption:"Get expert analysis of the news and a guide to the big ideas shaping the world."},CK:{kicker:"what to cook",caption:"Feast on recipes, food writing and culinary inspiration from Sam Sifton and NYT Cooking.",frequency:"five times a week"},GP:{kicker:"what to play",caption:"Puzzles, brain teasers, solving tips and more."},NE:{kicker:"wind down",caption:"Catch up on the biggest news and evening reads to end your day."},WG:{kicker:"what to watch",caption:"Discover streaming TV and movie recommendations from critic Margaret Lyons and friends."},WKDR:{kicker:"catch up weekly",caption:"Get stories handpicked by Times editors for you to enjoy each weekend."},RLW:{kicker:"what to read",caption:"Discover book recommendations from our critic Molly Young."},HH:{kicker:"stay healthy",caption:"Get essential news and guidance to live your healthiest life."}};var fe=function(e){var t=e.newsletters,n=Object(O.a)().deviceType,i=Object(B.f)({scope:"targetedNewsletterSignup",frequency:1e3,limit:5}),r="ontouchstart"in window||!!navigator.msMaxTouchPoints,a="smartphone"===n&&r,o=function(e){var t=e.newsletters,n=e.messageCap;return t.map((function(e){return c()($.a,{newsletter:e,messageCap:n,cardOverrideClass:pe.e},e.id)}))}({newsletters:t,messageCap:i});return c()("div",{className:ue},void 0,a?c()(se,{},void 0,o.slice(0,5)):c()("section",{className:de},void 0,o))};fe.displayName="Cards";var ge,be=fe,ve=n("Odck"),he=n("OwL/"),ye="\n  opacity: 1;\n  bottom: 50px;\n\n  ".concat(v.a.breakpoint.small," {\n    bottom: 30px;\n  }\n"),we=Object(m.css)("\n  opacity: 0;\n  bottom: 0;\n"),xe=Object(m.css)(ye," transition:opacity 300ms,bottom 300ms;transition-delay:500ms;"),Oe=Object(m.css)(ye),ke=Object(m.css)("\n  opacity: 0;\n  bottom: 0;\n"," transition:opacity 300ms,bottom 300ms;"),je=Object(m.css)("position:fixed;width:calc(100vw - 40px);left:50%;padding:16px 20px;background:",v.a.color.black,";text-align:center;color:",v.a.color.white,";font-family:",v.a.font.franklinBase,";font-size:",v.a.font.size(16),";border-radius:4px;line-height:18px;transform:translateX(-50%);z-index:1000000102;box-sizing:border-box;display:flex;flex-direction:column;align-items:center;",v.a.breakpoint.medium,"{width:630px;}"),Se=Object(m.css)("display:flex;flex-direction:column;flex-wrap:wrap;justify-content:center;margin-top:-3px;gap:0 ",v.a.font.size(5),";@media (min-width:350px){max-width:calc(100vw - 40px);}",v.a.breakpoint.medium,"{flex-wrap:nowrap;max-width:100vw;}"),Ne=Object(m.css)("display:block;font-size:",v.a.font.size(16),";line-height:130%;font-weight:400;margin:0 0 8px 0;",v.a.breakpoint.medium,"{font-size:",v.a.font.size(17),";}"),Ie=Object(m.css)("font-weight:700;"),Pe=Object(m.css)("font-size:",v.a.font.size(12),";line-height:",v.a.font.size(14.4),";a{color:",v.a.color.white,";text-decoration:underline;}"),Ce=function(){var e=Object(k.c)(),t=e.newsletterMap,n=e.showSuccessWithId,i=e.turnOffSuccess,r=t&&t[n]||{};return c()(ve.CSSTransition,{classNames:{enter:we,enterActive:xe,enterDone:Oe,exit:Oe,exitActive:ke},in:!!r.title,mountOnEnter:!0,onEntered:function(){setTimeout(i,4500)},unmountOnExit:!0,timeout:{enter:800,exit:200}},void 0,c()("section",{className:je,"data-testid":"newsletter-success-toast"},void 0,c()("div",{className:Se},void 0,c()("div",{className:Ne,"data-testid":"newsletter-success-toast-message"},void 0,"Thank you for signing up for ",c()("span",{className:Ie},void 0,r.title),". We’ve sent you a confirmation email."),ge||(ge=c()("div",{className:Pe},void 0,"To manage your email preferences, visit"," ",c()("a",{href:"https://myaccount.nytimes.com/seg/settings",target:"_blank",rel:"noreferrer"},void 0,"account settings."))))))};Ce.displayName="SuccessToast",Ce.defaultProps={newsletterContext:{showSuccessWithId:!1,turnOffSuccess:function(){},newsletterMap:{},subscriptionMap:{}}};var Te,ze,Ee=Object(he.a)(Ce),Ae=n("SpBF"),Le=n("0G++"),Me=n("uCIn");function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function De(){return function(e,t){var n=(null==e?void 0:e.map((function(e){return e.productCode})))||[];return t?((null==t?void 0:t.sections)||[]).map((function(e){return e.products})).flat().filter((function(e,t,i){return e.newsletterId in me&&!n.includes(e.newsletterId)&&i.findIndex((function(t){return t.newsletterId===e.newsletterId}))===t})).map((function(e){return _e(_e({},e),me[e.newsletterId])})):[]}(Object(Ae.a)().newsletterSubs,Object(Le.a)("targeted-newsletter"))}var We=function(){var e=De();return c()("section",{className:K},void 0,Te||(Te=c()(Q,{})),c()(be,{newsletters:e}),ze||(ze=c()(Ee,{})))};We.displayName="NewsletterSection";var Ue,qe=We,Fe=function(){var e,t=!(e=Object(k.c)())||null!=e&&e.isLoading?99:((null==e?void 0:e.subscriptions)||[]).filter((function(e){return null!=e&&"MM"!==(null==e?void 0:e.newsletterId)})).length<3,n=Object(d.useState)(!1),i=s()(n,2),r=i[0],a=i[1],o=Object(f.useTracking)().trackEvent,l=Object(B.f)({scope:"targetedNewsletterSignup",limit:5}),p=Object(F.a)({threshold:.1}),m=s()(p,2),g=m[0],b=m[1];return Object(d.useEffect)((function(){null!=b&&b.isIntersecting&&l.canShow()&&!r&&t&&(o({event:"impression",eventData:{pageType:"article"},module:{name:"bottom-of-story",region:"footer",context:"standard"}}),l.increment(),a(!0))}),[b,r,l,o,t]),t?u.a.createElement("div",{ref:g},Ue||(Ue=c()(qe,{isMobileCarouselVariant:!0}))):null};Fe.displayName="TargetedNewsletterSignup",Fe.displayName="TargetedNewsletterSignup";var Be=Fe,He=n("lwsE"),Xe=n.n(He),Ge=n("W8MJ"),Ve=n.n(Ge),Je=n("a1gu"),Qe=n.n(Je),Ke=n("Nsbk"),$e=n.n(Ke),Ye=n("7W2i"),Ze=n.n(Ye),et=n("2mql"),tt=n.n(et);function nt(e,t,n){return t=$e()(t),Qe()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],$e()(e).constructor):t.apply(e,n))}var it,rt=function(e){var t=e.displayName||e.name||"Component",n=function(n){function i(){var e;Xe()(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=nt(this,i,[].concat(n))).state={error:!1},e}return Ze()(i,n),Ve()(i,[{key:"componentDidCatch",value:function(e,n){var i=n.componentStack;if("undefined"!=typeof window&&window.Sentry&&window.Sentry.captureException){var r=new Error(e.message);r.name="End of Story Recirc (Vi) ".concat(t," ").concat(r.name),r.stack=i,window.Sentry.captureException(r,{contexts:{react:{componentStack:i}}})}}},{key:"render",value:function(){return this.state.error?null:u.a.createElement(e,this.props)}}],[{key:"getDerivedStateFromError",value:function(){return{error:!0}}}])}(d.Component);return n.displayName="withRecircErrorBoundary(".concat(t,")"),n.displayName="ErrorBoundary",tt()(n,e),n};function at(e){var t,n,i=e.associatedNewsletter,r=e.assetUri,o=e.articleId,l=e.collectionUris,d=e.recircSectionUrl,u=e.recircSectionDisplayName,b=e.url,N=Object(f.useTracking)().trackEvent,I=Object(O.a)().deviceType,P=Object(h.b)(),C=Object(w.a)(),T=function(e){var t=Object(h.b)(),n=Object(w.a)(),i=null!==e,r=Object(B.f)({scope:"targetedNewsletterSignup",limit:5}),a=Object(Me.a)(90),o=a.loading,c=a.value,l=r.canShow();return!n&&t&&!i&&!o&&c&&l}(i),E=!i,A=Object(j.m)(u),L=Object(p.useLazyQuery)(z),M=s()(L,2),R=M[0],_=M[1],D=_.data,W=_.loading,U=_.error;if(Object(x.a)(R,{variables:{assetUri:r,deviceType:"desktop"===I?"DESKTOP":"MOBILE",ids:l,originalReferrer:P&&document.referrer||null,referrer:P&&window.location.href||null,sectionName:A,url:b},ssr:!1,fetchPolicy:"no-cache",partialRefetch:!0}),U){var F=new Error(U);return F.name="Error fetching vi end of story recirc personalized packages",Object(g.a)(F),null}if(W&&!D)return null;var H=D||{},X=H.collections,G=H.personalizedLists,V=(null==G||null===(t=G.personalizedComposition)||void 0===t?void 0:t.surfaces)||[],J=(null==G||null===(n=G.personalizedComposition)||void 0===n?void 0:n.metadata)||[];if(!V.length)return null;var Q=Object(j.f)({articleId:o,collections:X,surfaces:V,compositionMetadata:J,recircSectionDisplayName:u,recircSectionUrl:d}),K=Q.collectionArticles,$=Q.collectionName,Y=Q.collectionTagline,Z=Q.collectionUrl,ee=Q.hasAssociatedCollection,te=Q.personalizedPackages;te&&N({event:"impression",eventData:{"algo-package-order":Object(j.h)(te)}});var ne=null;te.length>2&&(ne=te.pop());var ie=2;return"tablet"===I&&(ie=1),Object(y.a)(C,b)?null:c()("section",{"aria-labelledby":"recirculation-title","data-testid":"recirculation",className:S.g},void 0,c()("h2",{id:"recirculation-title",className:v.a.a11y.visuallyHidden},void 0,"Related Content"),c()("div",{className:Object(m.cx)(a()(a()({},S.a,!ne),S.d,ne))},void 0,T&&(it||(it=c()(k.b,{pageType:"targeted-newsletter"},void 0,c()(Be,{})))),ee&&E&&c()(q,{collectionTagline:Y,items:K,packageArea:"collection",packageLabel:$,packageUrl:Z,trackingName:"associated_collection_recirc",hasIdenticalHeadlines:Object(j.l)(K)}),te.map((function(e,t){var n=e.items,i=e.packageLabel,r=e.packageUrl,a=e.uri,o=e.trackingParams;return 0===t&&n.splice(ie,0,j.b),c()(q,{items:n,packageArea:"package",packageLabel:i,packageSize:0===t?j.d:j.c,packageUrl:r||void 0,trackingName:a,packageTrackingParams:o},a)}))),ne&&c()("div",{className:S.h},void 0,c()(q,{items:ne.items,packageArea:"rightrail",packageLabel:ne.packageLabel,packageSize:j.e,packageUrl:ne.packageUrl||void 0,trackingName:ne.uri,packageTrackingParams:ne.trackingParams})))}at.displayName="Recirculation",at.defaultProps={associatedNewsletter:null,assetUri:void 0,articleId:void 0,recircSectionUrl:void 0,recircSectionDisplayName:void 0,url:void 0};t.default=rt(at)},"+zxi":function(e,t,n){"use strict";n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return u}));var i=n("M4XY"),r=n.n(i),a=n("t0IW"),o=n("oXTd"),c=function(e){if(!e||"string"!=typeof e)return"";var t=r()(e).replace(/[^\w-]/g,"");return r()(t)},l=function(e){return o.n[e]||"en-US"},s=function(e,t){return e?t?Object(a.a)(e,t):e:""},d=function(e){return null!=e&&e.code?{newsletterId:(null==e?void 0:e.code)||"",title:(null==e?void 0:e.name)||"",caption:(null==e?void 0:e.signupModuleSummary)||"",frequency:(null==e?void 0:e.frequency)||"",altText:(null==e?void 0:e.signupAltText)||"",sampleUrl:(null==e?void 0:e.sampleLink)||"",thumbImageUrl:(null==e?void 0:e.splashThumbImage)||"",allowedEntitlement:(null==e?void 0:e.allowedEntitlement)||"",subscriptionPageLink:(null==e?void 0:e.subscriptionPageLink)||"",isOnsiteFreeTrialEnabled:(null==e?void 0:e.isOnsiteFreeTrialEnabled)||0}:{}},u=function(e,t,n){if(null==e||!e.length)return[];if(!t)return e;var i={};return e.filter((function(e){var r,a=e.newsletterId,o=e.allowedEntitlement,c=e.isOnsiteFreeTrialEnabled;return!i[a]&&(!n||!o||c&&(!c||null!==(r=t[a])&&void 0!==r&&r.isFreeTrial)?!t[a]&&(i[a]=!0,!0):(i[a]=!0,!0))}))}},"/J4J":function(e,t,n){"use strict";var i,r=n("gcR/"),a=n.n(r),o=n("lSNA"),c=n.n(o),l=n("J4zp"),s=n.n(l),d=n("q1tI"),u=n("X6oL"),p=n("Jqp9"),m=n("SpBF"),f=n("FSO8"),g=n("oXTd"),b=n("6DaM"),v=n.n(b),h=n("wXC7"),y=n.n(h),w=function(e){return{event:"moduleInteraction",eventData:{pagetype:"article",trigger:"module",type:"click"},module:{name:"bottom-of-story",context:"standard",label:e,region:"footer",element:{name:"sign-up",label:"clicked-plus-sign"}}}},x=n("+D1i"),O=function(e){var t=e.newsletter,n=e.cardOverrideClass,r=e.messageCap,o=e.onClick,l=e.alreadyReceiving,b=t.newsletterId,h=t.kicker,O=t.caption,k=t.title,j=t.frequency,S=t.thumbImageUrl,N=t.sampleUrl,I=t.subscriptionPageLink,P=Object(f.c)().updateSubscription,C=Object(m.a)().subToNewsletters,T=Object(u.useTracking)().trackEvent,z=Object(d.useState)(!1),E=s()(z,2),A=E[0],L=E[1],M=function(e){if(!e||13===(null==e?void 0:e.keyCode))return o&&!A?(L(!0),o(),void T(w(b))):void(A||(L(!0),C([{productCode:b}],{signupFormVersion:g.i.targetedNewsletterSignup}),P([{newsletterId:b,isFreeTrial:!1,freeTrialSignupTime:null}]),T(w(b)),r.dismiss()))};return a()("div",{className:Object(p.cx)(x.d,n,c()(c()({},x.l,!A),x.f,A)),onKeyDown:function(e){return M(e)},onClick:function(){return M()},tabIndex:"0",role:"button"},void 0,a()("div",{className:x.o},void 0,a()("div",{className:x.g},void 0,a()(v.a,{selected:A||l,size:40,color:A?y.a.color.gray40:y.a.color.gray10})),a()("div",{className:x.i},void 0,h),a()("div",{className:x.c},void 0,O)),a()("div",{className:x.a},void 0,a()("img",{className:x.m,alt:"Newsletter thumbnail",src:S}),a()("div",{className:x.b},void 0,I&&(i||(i=a()("div",{className:x.k},void 0,"For Times Subscribers"))),a()("div",{className:x.h},void 0,j),a()("div",{className:x.n},void 0,k),N&&a()("a",{className:x.j,href:N,onClick:function(){return T({event:"moduleInteraction",eventData:{pagetype:"article",trigger:"module",type:"click"},module:{name:"bottom-of-story",context:"standard",label:b,region:"footer",element:{name:"see-the-latest",label:"clicked-see-the-latest",url:N}}})},target:"_blank",rel:"noreferrer",tabIndex:"-1"},void 0,"See the latest"))))};O.displayName="Card",O.defaultProps={cardOverrideClass:null,onClick:void 0,alreadyReceiving:!1};t.a=O},"0G++":function(e,t,n){"use strict";var i,r=n("J4zp"),a=n.n(r),o=n("VkAN"),c=n.n(o),l=n("q1tI"),s=n("Kxyt"),d=n("eFc+"),u=n.n(d)()(i||(i=c()(["\n  query NewsletterPageQuery($name: String!) {\n    newsletterPage(name: $name) {\n      sections {\n        cardStyle\n        headline\n        name\n        products {\n          allowedEntitlement\n          altText\n          altTextLogo\n          authorBio\n          caption\n          captionExtended\n          figureImageUrl\n          frequency\n          isFreeTrialEnabled\n          isOnsiteFreeTrialEnabled\n          newsletterId\n          sampleUrl\n          subscriptionPageLink\n          thumbImageUrl\n          title\n          titleFont\n          titleImage\n        }\n      }\n    }\n  }\n"])));t.a=function(e){var t=Object(s.useApolloClient)(),n=Object(l.useState)(null),i=a()(n,2),r=i[0],o=i[1];return Object(l.useEffect)((function(){var n=!1;return null!=t&&t.query&&t.query({query:u,variables:{name:e}}).then((function(e){var t=e.error,i=e.loading,r=e.data.newsletterPage;if(!n&&!i){if(t)throw t;o(r||{})}})).catch((function(){return o({})})),function(){n=!0}}),[t,e]),r}},"4TXN":function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return k})),n.d(t,"a",(function(){return j}));var i=n("4mEQ"),r=n("XMA8"),a=function(e){return e&&Object(i.getUrl)(e.url,e.targetUrl)||""},o=function(e){if(e){var t=e.headline&&e.headline.default?e.headline.default:null;return Object(i.getHeadline)(t,e.promotionalHeadline)||""}return""},c=function(e){var t;return(null==e||null===(t=e.headline)||void 0===t?void 0:t.seo)||null};function l(e){return e&&e.promotionalHeadline?"string"!=typeof e.promotionalHeadline?"":e.promotionalHeadline:""}var s=function(e){if(e){var t=e.section&&e.section.displayName?e.section.displayName:null;return Object(i.isOpinion)(t)}return!1},d=function(e,t){if(t&&e){var n,r,a=(null===(n=t.subsection)||void 0===n?void 0:n.displayName)||(null===(r=t.section)||void 0===r?void 0:r.displayName)||null;return Object(i.themeHas)(e,{section:a})}return!1};function u(e){return e?e.__typename&&"promo"===e.__typename.toLowerCase()?null:e.firstPublished||null:null}function p(e){return e&&e.lastMajorModification?e.lastMajorModification:""}function m(e){return e&&e.firstPublished?e.firstPublished:""}function f(e){if(!e)return"";if(!e.promotionalMedia)return"";var t=Object(r.c)(e);if(t&&t.length>0){var n=t.filter((function(e){return"thumbLarge"===e.name}));if(n&&n[0]&&n[0].url)return n[0].url;if(t[0].url)return t[0].url}return""}function g(e){return e&&e.promotionalMedia?"EmbeddedInteractive"===e.promotionalMedia.__typename?e.promotionalMedia.imageWithCreditPromotionalMedia?"Image"!==e.promotionalMedia.imageWithCreditPromotionalMedia.__typename?null:void 0===e.promotionalMedia.imageWithCreditPromotionalMedia.credit?{spanImageCrops:e.promotionalMedia.imageWithCreditPromotionalMedia.spanImageCrops,caption:e.promotionalMedia.imageWithCreditPromotionalMedia.caption,credit:e.promotionalMedia.credit,__typename:"Image"}:e.promotionalMedia.imageWithCreditPromotionalMedia:null:e.promotionalMedia:null}var b=function(e){return d("opinion",e)?"Opinion":d("book review",e)?"Book Review":null};function v(e){if(!e)return null;if(!e.bylines)return null;if(!e.bylines[0])return null;if(!e.bylines[0].creators)return null;if(!e.bylines[0].creators[0])return null;var t=e.bylines[0].creators.filter((function(e){return"string"==typeof e.displayName})).map((function(e){return e.displayName}));return t&&Object(i.joinContributers)(t)||null}function h(e){if(!e)return"";if(e.__typename){var t=e.__typename.toLowerCase();if("recipe"===t)return"cooking";if("video"===t)return"video";if("slideshow"===t)return"slide show"}return""}var y=function(e){if(!e)return"";var t=h(e);return t||(s(e)?v(e):"")};function w(e){return e&&e.promotionalSummary?"string"!=typeof e.promotionalSummary?"":e.promotionalSummary:""}function x(e){if(!e)return"";if(!e.newsStatus)return"";if("string"!=typeof e.newsStatus)return"";if(e.newsStatus){var t=e.newsStatus.toLowerCase();if("live"===t)return"live";if("breaking"===t)return"breaking";if("developing"===t)return"developing"}return""}var O=function(e){return e?Object(i.getSummary)(e.summary,e.promotionalSummary):""},k=function(e){if(!e)return"";var t=e.__typename||null,n=e.section&&e.section.displayName?e.section.displayName:null,r=v(e)||null;return Object(i.getLabel)(t,n,r)||""};function j(e){var t,n,i;return{url:a(e),headline:o(e),promotionalHeadline:l(e),promotionalSummary:w(e),promotionalMedia:g(e),isOpinion:s(e),date:u(e),label:h(e),byline:v(e),lastModifiedDate:p(e),firstPublished:m(e),newsStatus:x(e),headlinePrefix:b(e),promoImageUrl:f(e),kicker:y(e),language:(null==e||null===(t=e.language)||void 0===t?void 0:t.code)||"",tone:(null==e||null===(n=e.tone)||void 0===n?void 0:n.toLowerCase())||"",section:(null==e||null===(i=e.section)||void 0===i?void 0:i.name)||"default",summary:O(e),seoHeadline:c(e)}}},"5DNu":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return o}));var i=function(){var e,t=new URLSearchParams(window.location.search);return decodeURIComponent(null!==(e=t.get("region"))&&void 0!==e?e:"")||void 0},r=function(e){var t=e.clientId,n=e.newsletterName,r=e.productCode,a=e.label,o=void 0===a?"":a;return{event:"impression",module:{name:"newsletter",context:t,region:i()||"body|marginalia",label:o,element:{name:r,label:o}},newsletter:{product:r,productName:n}}},a=function(e){var t=e.clientId,n=e.newsletterName,r=e.productCode,a=e.label,o=void 0===a?"":a;return{event:"moduleInteraction",eventData:{pagetype:"article",trigger:"module",type:"click",status:"success"},module:{name:"newsletters",context:t,region:i()||"body|marginalia",element:{name:"subscribe",label:o}},newsletter:{product:r,productName:n}}},o=function(e){return{event:"moduleInteraction",eventData:{type:"response",trigger:"module"},module:{name:"newsletter-shared-ui",context:e.clientId,region:"embed",element:{name:"newsletter code invalid",label:e.productCode,url:""}}}}},"7XMi":function(e,t,n){"use strict";var i,r=n("VkAN"),a=n.n(r),o=n("gcR/"),c=n.n(o),l=(n("q1tI"),n("eFc+")),s=n.n(l),d=n("d8k4"),u=n("hG4R"),p=n("Jqp9"),m=n("3sMT"),f=n("wXC7"),g=n.n(f),b=Object(p.css)("margin:0 0 10px;",g.a.breakpoint.medium,"{margin-bottom:0;}"),v=Object(p.css)("font-family:",g.a.font.franklinBase,";margin-top:3px;min-height:12px;"),h=Object(p.css)("text-align:right;color:",m.color.content.quaternary,";font-size:0.6em;line-height:1.23em;margin:3px 15px 0;",g.a.breakpoint.medium,"{margin:3px 0 0;}"),y=function(e){var t,n,i=e.media,r=e.crop,a=e.preferredCrop,o=i&&"Image"!==i.__typename&&"EmbeddedInteractive"!==i.__typename?i.imageWithCreditPromotionalMedia:i;if(!o)return null;n="Image"!==i.__typename&&i.promotionalMedia?"Video"===i.__typename&&i.promotionalMedia.credit?"Image by ".concat(i.promotionalMedia.credit):i.promotionalMedia.credit:i.credit;var l=null==o||null===(t=o.caption)||void 0===t?void 0:t.text;return c()("figure",{className:b},void 0,"EmbeddedInteractive"===o.__typename?c()(d.a,{media:o}):c()("div",{},void 0,c()(u.a,{lazy:!0,caption:l,media:o,crop:r,preferredCrop:a}),c()("figcaption",{className:v},void 0,n&&c()("p",{className:h,dangerouslySetInnerHTML:{__html:n}}))))};y.displayName="ImageWithCredit",y.defaultProps={preferredCrop:null,crop:["largeHorizontalJumbo"]},y.fragments={media:s()(i||(i=a()(["\n    fragment ImageWithCredit_media on CreativeWork {\n      __typename\n      ...SpanAssetCredit_media\n      ...SpanImage_media\n      ...EmbeddedInteractive_media\n      ... on HasPromotionalProperties {\n        imageWithCreditPromotionalMedia: promotionalMedia {\n          ...SpanImage_media\n        }\n      }\n    }\n\n    fragment SpanAssetCredit_media on CreativeWork {\n      __typename\n      ... on Image {\n        id\n        credit\n      }\n      ... on HasPromotionalProperties {\n        # this is kind of gross, but necessary, since non-Image types should get\n        # their credits from their image stills (their promotionalMedia)\n        promotionalMedia {\n          ... on Image {\n            id\n            credit\n          }\n        }\n      }\n    }\n\n    ","\n    ","\n  "])),u.a.fragments.media,d.a.fragments.media)};t.a=y},"7yT1":function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return w})),n.d(t,"c",(function(){return x})),n.d(t,"d",(function(){return O})),n.d(t,"f",(function(){return j})),n.d(t,"e",(function(){return S}));var i,r=n("VkAN"),a=n.n(r),o=n("T25G"),c=n("Ds/+"),l=n.n(c),s=n("tPsl"),d=n.n(s),u=n("4LjT"),p=n("oXTd"),m=n("+zxi"),f=n("eFc+"),g=n.n(f),b=n("HUmG"),v=function(e){return e.PAGE_REGI="regi",e.PAGE_SUB="sub",e}({}),h=function(e){var t=e.map((function(e){return"\n    ".concat(e,': newsletterConfig(newsletterId: "').concat(e,'") {\n      ...newsletterConf\n    }\n  ')})).join("\n\n"),n="\n  ".concat("\n  fragment newsletterConf on NewsletterConfig {\n    id\n    newsletterId\n    allowedEntitlement\n    subscriptionPageLink\n    isOnsiteFreeTrialEnabled\n  }\n","\n  query NewsletterMultiSignupQuery {\n    ").concat(t,"\n  }");return g()(n)},y=g()(i||(i=a()(["\n  ","\n"])),u.subscribeGraphql),w=function(){var e,t=new URLSearchParams(window.location.search),n="true"===t.get("newsletter_signup"),i=decodeURIComponent(null!==(e=t.get("product_codes"))&&void 0!==e?e:"").split(",").reduce((function(e,t){var n=t.trim();return null!=n&&n.length&&e.push(n),e}),[]);return n&&i.every((function(e){return Object(o.isValidNewsletterCode)(e)}))?i:[]},x=function(e){var t=e.data;return Object.values(t).filter(Boolean).map((function(e){return e.allowedEntitlement?new d.a(e):new l.a(e)}))},O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.filter((function(e){return!t.find((function(t){return(null==t?void 0:t.productCode)===e}))}))},k=function(e){return!!e.getData().allowedEntitlement},j=function(e){var t=e.newsletters,n=e.onSignup,i=e.apolloClient,r=e.user,a=e.signupFormVersion,o=void 0===a?"EmailSignup_NL_index_page":a,c=e.pageType;i.mutate({mutation:y,variables:{input:{newsletters:t.map((function(e){var t=!1,n=0;return k(e)&&(t=e.canTakeFreeTrial(r))&&(n=Math.floor(Date.now()/1e3)),{productCode:e.productCode,isFreeTrial:t,freeTrialSignupTime:n}})),signupFormVersion:o,pageType:c}}}).then((function(e){return t.forEach((function(e){var t,n=null===(t=e.getData())||void 0===t?void 0:t.subscriptionPageLink;if(k(e)&&!(null!=e&&e.canTakeFreeTrial(r))&&!e.isEligible(r)&&n){var i=Object(m.a)(n,{ref:p.j.newsletterGridIndexPage});window.location.assign(i)}})),n(e,t)}))},S=function(e){return Object(b.f)(e)?v.PAGE_SUB:v.PAGE_REGI}},"9i1U":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i,r=n("VkAN"),a=n.n(r),o=n("eFc+"),c=Object(o.gql)(i||(i=a()(["\n  fragment Connection_pageInfo on RelayConnection {\n    pageInfo {\n      hasNextPage\n      hasPreviousPage\n      startCursor\n      endCursor\n    }\n  }\n"])))},DNUX:function(e,t,n){"use strict";var i,r,a,o,c,l,s,d,u,p,m,f,g,b,v,h,y,w,x,O=n("gcR/"),k=n.n(O),j=n("J4zp"),S=n.n(j),N=n("q1tI"),I=n("XnIf"),P=n("3sMT"),C=n("Jqp9"),T=n("wXC7"),z=n.n(T),E=Object(C.css)("border-top:1px solid ",P.color.stroke.quaternary,";padding:0 20px;",z.a.breakpoint.medium,"{padding:0 13%;}",z.a.breakpoint.large,"{border-top:0;padding:0 20px;}"),A=Object(C.css)("font-family:",z.a.font.franklinBase,";font-weight:",z.a.font.weight.bold,";font-size:13px;text-transform:uppercase;letter-spacing:0.03em;padding:15px 0;"),L=Object(C.css)("border-top:1px solid ",P.color.stroke.quaternary,";padding-top:15px;"),M=Object(C.css)("font-family:",z.a.font.franklinBase,";font-size:15px;font-weight:",z.a.font.weight.medium,";padding-bottom:15px;width:100%;color:",P.color.content.quaternary,";strong{font-weight:",z.a.font.weight.bold,";}em{font-style:italic;}"),R=Object(C.css)("background-color:",P.color.background.secondary,";border:1px solid ",P.color.stroke.secondary,";border-radius:3px;box-sizing:border-box;display:inline-block;max-width:100%;margin-right:3px;margin-bottom:3px;padding:3px;vertical-align:top;"),_=Object(C.css)("appearance:none;background-color:transparent;background-image:none;border:0;box-shadow:none;box-sizing:border-box;max-width:100%;cursor:pointer;color:",P.color.content.quaternary,";font-family:",z.a.font.franklinBase,";line-height:1;padding:5px 30px 5px 8px;"),D=Object(C.css)("height:8px;margin-left:-20px;margin-top:9px;pointer-events:none;position:absolute;width:13px;"),W=Object(C.css)(z.a.button.action,";display:inline-block;font-size:14px;line-height:14px;margin-bottom:15px;padding:10px 15px 8px;"),U={33614678:"Faceboook",33597998:"Rubicon Project",30252878:"Index Exchange",39318518:"Index Exchange EBDA",32855678:"Yieldmo",21966278:"Google Ad Exchange",32074718:"Amazon",38636678:"AppNexus",33597638:"OpenX",4400775978:"OpenX EBDA"};function q(e){var t,n=e.adData,O=Object(N.useState)("(eg. slow ad, inappropriate ad)"),j=S()(O,2),C=j[0],T=j[1],z=n.deviceType,q=n.page,F=n.position,B=n.sourceAgnosticCreativeId,H=n.sourceAgnosticLineItemId,X=n.googleQueryId,G=n.advertiserId,V=n.pageUrl,J=n.clickUrl,Q=n.size,K=U[G];t=Array.isArray(Q)?0===Q[0]?"fluid":Q.join("x"):"";var $=encodeURIComponent("Capture Ad / ".concat((new Date).toLocaleDateString("en-US")," / ").concat(H," / ").concat(C," (Experimental Only)")),Y=encodeURIComponent("* * * This is currently only a tech test--no action will be taken at this time. * * *\n\nReason: ".concat(C,"\n\nScreenshot: (please attach a screenshot of the ad)\n\n-----------\n\nCreative ID: ").concat(B,"\n\nLine Item ID: ").concat(H,"\n\nQuery ID: ").concat(X,"\n\n").concat(K?"Company Name: ".concat(K,"\n\n"):"","Platform: web\n\nDevice Type: ").concat(z,"\n\nPage Type: ").concat(q,"\n\nAd Position: ").concat(F,"\n\nAd Size: ").concat(t,"\n\nPage URL: ").concat(V,"\n\nClick-through URL: ").concat(J));return k()("section",{className:E},void 0,k()("h2",{className:A},void 0,"Debug Info"),k()("ul",{className:L},void 0,k()("li",{},void 0,k()("div",{className:R},void 0,k()("select",{className:_,onChange:function(e){T(e.target.value)}},void 0,i||(i=k()("option",{value:"(eg. slow ad, inappropriate ad)"},void 0,"Select ad behavior...")),r||(r=k()("option",{},void 0,"Content is inappropriate for the specific article")),a||(a=k()("option",{},void 0,"Ad is being targeted or recurs over and over")),o||(o=k()("option",{},void 0,"Ad creative doesn’t render properly or appears to be broken")),c||(c=k()("option",{},void 0,"Ad is intrusive or violates posted specs or industry standards")),l||(l=k()("option",{},void 0,"Ad is suspicious or malicious")),s||(s=k()("option",{},void 0,"Ad violates creative quality (offensive content)")),d||(d=k()("option",{},void 0,"Great ad! Right on target!")),u||(u=k()("option",{},void 0,"Other"))),k()(I.a,{fill:P.color.content.quaternary,className:D})),k()("a",{href:"mailto:devtest-AdFrameworks@nytimes.com?subject=".concat($,"&body=").concat(Y),target:"_blank",rel:"noopener noreferrer",className:W},void 0,"Submit")),k()("li",{className:M},void 0,p||(p=k()("em",{},void 0,"Note: This is a test and is for data collection purposes—action will not be taken to remove the ad just yet.")))),k()("ul",{className:L},void 0,k()("li",{className:M},void 0,m||(m=k()("strong",{},void 0,"Creative ID: ")),B),k()("li",{className:M},void 0,f||(f=k()("strong",{},void 0,"Line Item ID: ")),H),k()("li",{className:M},void 0,g||(g=k()("strong",{},void 0,"Query ID: ")),X),K&&k()("li",{className:M},void 0,b||(b=k()("strong",{},void 0,"Company Name: ")),K)),k()("ul",{className:L},void 0,k()("li",{className:M},void 0,v||(v=k()("strong",{},void 0,"Platform: ")),"web"),k()("li",{className:M},void 0,h||(h=k()("strong",{},void 0,"Device Type: ")),z),k()("li",{className:M},void 0,y||(y=k()("strong",{},void 0,"Page Type: ")),q),k()("li",{className:M},void 0,w||(w=k()("strong",{},void 0,"Ad Position: ")),F),k()("li",{className:M},void 0,x||(x=k()("strong",{},void 0,"Ad Size: ")),t)))}q.displayName="ReportModal",q.defaultProps={adData:{deviceType:"",page:"",position:"",sourceAgnosticCreativeId:0,sourceAgnosticLineItemId:0,googleQueryId:"",advertiserId:0,pageUrl:"",clickUrl:"",size:[]}};t.a=q},FSO8:function(e,t,n){"use strict";n.d(t,"a",(function(){return U})),n.d(t,"c",(function(){return q}));var i=n("gcR/"),r=n.n(i),a=n("J4zp"),o=n.n(a),c=n("q1tI"),l=n.n(c),s=n("0G++"),d=n("aFeP"),u=n("C/YW"),p=n.n(u),m=n("Kxyt"),f=n("HUmG"),g=n("5DNu"),b=n("X6oL"),v=n("7yT1");var h=function(e){var t,n=e.onSignup,i=e.pageLoading,a=Object(m.useApolloClient)(),l=Object(c.useRef)(n);l.current=n;var s=Object(d.a)(),u=!s,h=function(e){var t=e.user;return null!==t&&!Object(f.d)(t)}({user:{id:null==s||null===(t=s.userInfo)||void 0===t?void 0:t.regiId}}),y=Object(c.useState)(!1),w=o()(y,2),x=w[0],O=w[1],k=Object(c.useRef)({handleSignup:null}),j=Object(c.useState)([]),S=o()(j,2),N=S[0],I=S[1],P=Object(b.useTracking)().trackEvent;Object(c.useEffect)((function(){var e,t=Object(v.a)();if(null!=t&&t.length&&!u&&!i){t.forEach((function(e){return P(Object(g.a)({clientId:"",newsletterName:"",productCode:e,label:"one click"}))}));var n=Object(v.d)(t,null==s||null===(e=s.newsletterSubscriptions)||void 0===e?void 0:e.newsletters);null!=n&&n.length&&a.query({query:Object(v.b)(n)}).then(v.c).then((function(e){null!=e&&e.length&&I(e)}))}}),[a,u,i]);var C=Object(c.useRef)(!1);return Object(c.useEffect)((function(){u||null==N||!N.length||C.current||(C.current=!0,h?(k.current={handleSignup:v.f},O(!0)):Object(v.f)({newsletters:N,onSignup:l.current,apolloClient:a,user:s,pageType:Object(v.e)(s)}))}),[h,N,u,a,s]),{loginModal:Object(c.useMemo)((function(){return h&&null!=N&&N[0]?r()(p.a,{isOpen:x,handleClose:function(){return O(!1)},onLogin:function(){window.location.reload()},host:vi.env.AUTH_HOST,newsletter:N[0]}):null}),[h,x,N])}},y=n("fdyL"),w=n("lSNA"),x=n.n(w);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){x()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j=function(e){return e.sections.reduce((function(e,t){return t.products.forEach((function(n){e[n.newsletterId]=k(k({},n),{},{cardStyle:t.cardStyle})})),e}),{})},S=n("RIqP"),N=n.n(S);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){x()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C=function(e,t){var n=t.setSubscriptions,i=t.setSubscriptionMap,r=t.setShowSuccessWithId,a=t.newsletterMap,o=t.subscriptions,c=t.subscriptionMap,l={},s=[],d=e.map((function(e){var t=e.newsletterId,n=e.isFreeTrial,i=e.freeTrialSignupTime;return l[t]={isFreeTrial:n,freeTrialSignupTime:i},s.push(t),a[t]}));n([].concat(N()(o),N()(d))),i(P(P({},c),l)),r(s)},T=n("yXPU"),z=n.n(T),E=n("o0o1"),A=n.n(E),L=(n("ls82"),n("CQ4Z"));function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){x()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _=function(){var e=z()(A.a.mark((function e(t,n,i,r){var a,o,c,l,s;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(L.user)();case 3:c=e.sent,l=c.data,s=(null==l||null===(a=l.user)||void 0===a||null===(o=a.newsletterSubscriptions)||void 0===o?void 0:o.newsletters)||[],t(s.map((function(e){var t=e.productCode;return r[t]}))),n(s.reduce((function(e,t){var n=t.productCode,i=t.isFreeTrial,r=t.freeTrialSignupTime;return R(R({},e),{},x()({},n,{isFreeTrial:i,freeTrialSignupTime:r}))}),{})),i(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),"prd"!==vi.env.ENVIRONMENT&&console.warn("NewsletterProvider: The Newsletter subscription endpoint had an error.",e.t0),i(!1);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n,i,r){return e.apply(this,arguments)}}(),D=n("rleM"),W={newsletterSectionConfigs:null,pageType:null,isLoading:!0,subscriptions:[],subscriptionMap:{},newsletterMap:null,showSuccessWithId:!1,updateSubscription:function(e){return null},turnOffSuccess:function(){return null},user:null},U=l.a.createContext(W),q=function(){return l.a.useContext(U)},F=function(e){var t=e.pageType,n=e.children,i=Object(s.a)(t),a=Object(c.useState)(!0),l=o()(a,2),u=l[0],p=l[1],m=Object(c.useState)([]),f=o()(m,2),v=f[0],w=f[1],x=Object(c.useState)({}),O=o()(x,2),k=O[0],S=O[1],N=Object(c.useState)(null),I=o()(N,2),P=I[0],T=I[1],z=Object(c.useState)(!1),E=o()(z,2),A=E[0],L=E[1],M=Object(d.a)(),R=Object(b.useTracking)().trackEvent,W=Object(c.useCallback)((function(e){return C(e,{setSubscriptions:w,setSubscriptionMap:S,setShowSuccessWithId:L,newsletterMap:P,subscriptions:v,subscriptionMap:k})}),[w,S,L,P,v,k]),q=function(e){e.forEach((function(e){var t,n=e.newsletterId;R(Object(g.c)({newsletterName:null===(t=P[n])||void 0===t?void 0:t.title,productCode:n,label:"one click"}))}))},F=Object(D.a)({onSignup:function(e,t){var n=t.productCode;q([{newsletterId:n}]),W([{newsletterId:n}]),Object(y.handleRedirectForNewsletter)(t)},pageLoading:!P}).loginModal,B=h({onSignup:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(null!=t&&t.length||null!=t&&t.length()){var n=t.map((function(e){return{newsletterId:e.productCode}}));q(n),W(n)}},pageLoading:!P}).loginModal,H=Object(c.useCallback)((function(){return L(!1)}),[L]);return Object(c.useEffect)((function(){var e;if(null!=i&&null!==(e=i.sections)&&void 0!==e&&e.length&&!P){var t=j(i);T(t)}}),[P,i,T]),Object(c.useEffect)((function(){P&&_(w,S,p,P)}),[w,S,p,P]),r()(U.Provider,{value:{newsletterSectionConfigs:i,pageType:t,isLoading:u,subscriptions:v,subscriptionMap:k,newsletterMap:P,showSuccessWithId:A,updateSubscription:W,turnOffSuccess:H,user:M}},void 0,n,F,B)};F.displayName="NewsletterProvider",F.defaultProps={pageType:""},F.displayName="NewsletterProvider";t.b=F},IFQa:function(e,t,n){"use strict";n.d(t,"j",(function(){return d})),n.d(t,"e",(function(){return u})),n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"d",(function(){return g})),n.d(t,"h",(function(){return b})),n.d(t,"i",(function(){return v})),n.d(t,"a",(function(){return h})),n.d(t,"g",(function(){return y})),n.d(t,"f",(function(){return w}));var i=n("Jqp9"),r=n("wXC7"),a=n.n(r),o=n("3sMT"),c=a.a.breakpoint,l=a.a.font,s=a.a.color,d=Object(i.css)("font-family:",l.serifMedium,";font-weight:",l.weight.medium,";color:",o.color.content.secondary,";font-size:",l.size(17),";line-height:",l.size(21),";text-align:left;flex-grow:1;margin:auto 0;padding-left:10px;display:flex;flex-direction:column-reverse;",c.medium,"{padding:0;font-size:",l.size(16),";}"),u=Object(i.css)("font-family:",l.franklinBase,";font-size:",l.size(12),";line-height:",l.size(15),";font-weight:",l.weight.medium,";text-transform:uppercase;letter-spacing:0.03em;margin-top:5px;color:",s.gray10,";"),p=Object(i.css)("color:",o.color.content.quaternary,";"),m=Object(i.css)("color:",o.color.content.primary,";&:hover{color:",o.color.content.quaternary,";}::after{content:'';position:absolute;top:0;right:0;left:0;bottom:0;}",c.medium,"{font-size:",l.size(16),";line-height:",l.size(20),";padding-right:4px;}"),f=Object(i.css)("display:block;font-family:",l.serifSmall,";"),g=Object(i.css)("figcaption{display:none;section{font-size:",l.size(10),";text-transform:none;}}min-width:75px;img{width:75px;height:75px;}figure{padding-bottom:0;margin:0;width:75px;height:75px;}",c.medium,"{min-width:60px;img{width:60px;height:100%;}figure{width:100%;height:100%;}figcaption{section{padding-bottom:4px;}}}"),b=Object(i.css)("display:flex;flex-direction:row-reverse;position:relative;",c.medium,"{flex-direction:row;}"),v=Object(i.css)("width:100%;padding:0 20px 15px;a::after{content:none;}",c.medium,"{padding:0;}"),h=Object(i.css)("width:100%;padding:0 20px 15px;",c.medium,"{width:50%;padding:0 0 20px;&:nth-child(3){display:none;}.",b,"{border-left:1px solid ",s.gray60,";}}",c.large,"{width:33.3%;&:nth-child(3){display:block;}}"),y=Object(i.css)("width:100%;padding:0 20px 15px;",c.medium,"{max-width:48%;padding:0 0 20px;}",c.large,"{max-width:32%;}.",b,"{width:100%;.",p,",.",m,"{font-size:",l.size(17),";line-height:",l.size(20),";}.",g,"{min-width:75px;img{width:75px;height:75px;}}",c.medium,"{border-left:none;padding-right:0;display:flex;flex-direction:column-reverse;.",m,",.",p,"{font-size:",l.size(18),";line-height:",l.size(22),";}.",g,"{width:100%;height:100%;max-width:inherit;min-width:60px;img{width:100%;height:100%;}figure{padding-bottom:0;}figcaption{",f," section{padding-bottom:4px;}}}}}"),w=Object(i.css)("font-size:",l.size(21),";line-height:",l.size(23),";color:",s.gray10,";font-weight:",l.weight.medium,";")},KQYy:function(e,t,n){"use strict";var i,r,a,o=n("pVnL"),c=n.n(o),l=n("gcR/"),s=n.n(l),d=n("lSNA"),u=n.n(d),p=n("lwsE"),m=n.n(p),f=n("W8MJ"),g=n.n(f),b=n("a1gu"),v=n.n(b),h=n("Nsbk"),y=n.n(h),w=n("7W2i"),x=n.n(w),O=n("zT9C"),k=n.n(O),j=n("q1tI"),S=n.n(j),N=n("Jqp9"),I=n("Odck"),P=n("t0IW"),C=n("XMA8"),T=n("ZKN5"),z=n("mczz"),E=n("VkAN"),A=n.n(E),L=n("wXC7"),M=n.n(L),R=n("euCz");function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var W={quality:75,auto:"webp",disable:"upscale"};var U,q=function(e){var t=e.mobileRendition;return S.a.createElement(S.a.Fragment,null,s()("source",{media:Object(R.oneLineTrim)(i||(i=A()(["\n          (max-width: ","px) and (min-device-pixel-ratio: 3),\n          (max-width: ","px) and (-webkit-min-device-pixel-ratio: 3),\n          (max-width: ","px) and (min-resolution: 3dppx),\n          (max-width: ","px) and (min-resolution: 288dpi)\n        "])),M.a.breakpoint.width.small-1,M.a.breakpoint.width.small-1,M.a.breakpoint.width.small-1,M.a.breakpoint.width.small-1),srcSet:Object(P.a)(t.url,D(D({},W),{},{width:600}))}),s()("source",{media:Object(R.oneLineTrim)(r||(r=A()(["\n          (max-width: ","px) and (min-device-pixel-ratio: 2),\n          (max-width: ","px) and (-webkit-min-device-pixel-ratio: 2),\n          (max-width: ","px) and (min-resolution: 2dppx),\n          (max-width: ","px) and (min-resolution: 192dpi)\n        "])),M.a.breakpoint.width.small-1,M.a.breakpoint.width.small-1,M.a.breakpoint.width.small-1,M.a.breakpoint.width.small-1),srcSet:Object(P.a)(t.url,D(D({},W),{},{width:1200}))}),s()("source",{media:Object(R.oneLineTrim)(a||(a=A()(["\n          (max-width: ","px) and (min-device-pixel-ratio: 1),\n          (max-width: ","px) and (-webkit-min-device-pixel-ratio: 1),\n          (max-width: ","px) and (min-resolution: 1dppx),\n          (max-width: ","px) and (min-resolution: 96dpi)\n        "])),M.a.breakpoint.width.small-1,M.a.breakpoint.width.small-1,M.a.breakpoint.width.small-1,M.a.breakpoint.width.small-1),srcSet:Object(P.a)(t.url,D(D({},W),{},{width:1800}))}))},F=n("3sMT"),B=Object(N.css)("width:100%;background-color:",F.color.background.tertiary,";"),H=Object(N.css)("animation:",Object(N.keyframes)("from{background-color:",F.color.background.tertiary,";}to{background-color:transparent;}")," ",300,"ms ease-in forwards;"),X=Object(N.css)("transition:opacity ",300,"ms ease-in-out;opacity:0;display:block;width:100%;"),G=Object(N.css)("height:auto;width:100%;"),V={entering:{opacity:0},entered:{opacity:1}};function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function K(e,t,n){return t=y()(t),v()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],y()(e).constructor):t.apply(e,n))}var $={quality:75,auto:"webp",disable:"upscale"};var Y=Object(T.a)(U=function(e){function t(){var e;m()(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=K(this,t,[].concat(i))).state={appearedInViewport:!1,rendition:null,nativeLazinessSupported:null,aspectRatio:1.66,imageLoaded:!1,containerWidth:null},e.el=S.a.createRef(),e.appearedInViewport=!1,e}return x()(t,e),g()(t,[{key:"componentDidMount",value:function(){var e;if(null!==(e=this.el)&&void 0!==e&&e.current){var t=this.getActiveRendition(),n={};n.nativeLazinessSupported="loading"in HTMLImageElement.prototype,Object(z.d)(Object(z.c)(),"forceLazy")?(this.appearedInViewport=!0,n.appearedInViewport=!0):!n.nativeLazinessSupported&&this.props.lazy&&this.setupIntersectionObserver(),t&&t.width&&t.height?(n.aspectRatio=t.width/t.height,n.rendition=t):n.aspectRatio=this.props.initialAspectRatio,n.containerWidth=this.el.current.offsetWidth?this.el.current.offsetWidth:null,this.setState(n)}}},{key:"componentWillUnmount",value:function(){this.observer&&(this.observer.disconnect(),this.observer=null)}},{key:"getActiveRendition",value:function(){var e;if(null===(e=this.el)||void 0===e||!e.current)return null;var t,n,i=this.props.renditions,r=null;if(Array.isArray(i)){var a=this.el.current.querySelector("img");if(!a||!a.currentSrc)return null;var o=(t=a.currentSrc,n=new URL(t),"".concat(n.origin).concat(n.pathname));i.some((function(e){return e.url===o}))&&(r=i.find((function(e){return e.url===o})))}return r}},{key:"setupIntersectionObserver",value:function(){var e=this,t={threshold:0,rootMargin:"".concat(this.props.rootMargin,"px")};this.observer=new IntersectionObserver((function(t){var n;!e.appearedInViewport&&null!=t&&null!==(n=t[0])&&void 0!==n&&n.isIntersecting&&(e.appearedInViewport=!0,e.observer&&e.observer.disconnect(),e.observer=null,e.setState({appearedInViewport:!0}))}),t),this.observer.observe(this.el.current)}},{key:"render",value:function(){var e,t=this,n=this.props,i=n.lazy,r=n.imageProps,a=n.fullBleedImageStyles,o=n.alt,l=n.initialImageWidth,d=n.safeWidths,p=n.imageContainerRef,m=n.useMobileCrop,f=n.renditions,g=this.state,b=g.aspectRatio,v=g.imageLoaded,h=g.containerWidth,y=g.rendition,w=g.appearedInViewport,x=g.nativeLazinessSupported,O=Q(Q({},k()(r)),{},{decoding:"async"}),j=k()(f),T=Object(C.j)(j);Array.isArray(j)&&Array.isArray(O.srcSet)&&(j=j.filter((function(e){return!Object(C.o)(e)})),O.srcSet=O.srcSet.filter((function(e){return-1===e.indexOf(C.p)})));var z,E,A=h||l;if(!y&&A){var L=(z=1.5*A,(E=d)&&E.find((function(e){return e>=z}))||null),M=L?{width:L}:{},R=Q(Q({},$),M);O.src=Object(P.a)(O.src,R)}if(y&&(O.src=Object(P.a)(y.url,$),O.srcSet=null),i&&x&&(O.loading="lazy"),!i){if(O.width=O.width||this.props.width,O.height=O.height||this.props.height,O.width&&O.height){var _="string"==typeof O.className;O.className=Object(N.cx)(G,u()({},O.className,_))}return m&&T?s()("picture",{style:a},void 0,s()(q,{mobileRendition:T}),S.a.createElement("img",c()({alt:o,ref:p},O))):S.a.createElement("img",c()({alt:o,ref:p,style:a},O))}O.onLoad=function(){v||t.setState({imageLoaded:!0})};var D=!h&&this.props.initialAspectRatio||b,W="auto";v||(h?W=h/D:l&&(W=l/(1.5*D)));var U=m&&T?function(t){return s()("picture",{className:X,style:Q(Q({},V[t]),{},{fullBleedImageStyles:a})},void 0,e||(e=s()(q,{mobileRendition:T})),S.a.createElement("img",c()({alt:o},O)))}:function(e){return S.a.createElement("img",c()({alt:o,className:X,style:Q(Q({},V[e]),{},{fullBleedImageStyles:a})},O))};return S.a.createElement("div",{className:Object(N.cx)(B,u()({},H,v)),ref:this.el,"data-testid":"lazy-image"},A&&S.a.createElement("div",{ref:p,"data-testid":"lazyimage-container",style:{height:W}},(w||x)&&s()(I.Transition,{in:!!v,timeout:300},void 0,U)))}}])}(j.Component))||U;Y.displayName="LazyImage",Y.defaultProps={lazy:!1,fullBleedImageStyles:null,alt:"",renditions:null,initialAspectRatio:1.66,initialImageWidth:580,safeWidths:null,rootMargin:0,imageContainerRef:null,useMobileCrop:!1,height:null,width:null};t.a=Y},"OwL/":function(e,t,n){"use strict";var i=n("gcR/"),r=n.n(i),a=n("pVnL"),o=n.n(a),c=n("q1tI"),l=n.n(c),s=n("2mql"),d=n.n(s),u=n("FSO8");t.a=function(e){var t=function(t){return r()(u.a.Consumer,{},void 0,(function(n){return l.a.createElement(e,o()({},t,{newsletterContext:n}))}))},n=e.displayName||e.name;return t.displayName="withNewsletters(".concat(n,")"),t.WrappedComponent=e,d()(t,e),t}},PvUX:function(e,t,n){"use strict";var i,r,a,o=n("VkAN"),c=n.n(o),l=n("lSNA"),s=n.n(l),d=n("gcR/"),u=n.n(d),p=n("q1tI"),m=n.n(p),f=n("eFc+"),g=n("9i1U"),b=n("Jqp9"),v=n("X6oL"),h=n("RL9q"),y=n("hkPW"),w=n("5dFD"),x=n("4TXN"),O=n("7XMi"),k=n("IFQa"),j=n("SBGf"),S=function(e){var t=e.index,n=e.isMobile,i=e.item,r=e.packageArea,a=e.packageLabel,o=e.packageTrackingParams,c=e.region,l=e.trackingName,d=e.trackingParams,p=e.useHeadlineFallback,f=Object(h.a)(),g=Object(j.i)({cardId:null==i?void 0:i.sourceId,cardIndex:t,cardUrl:(null==i?void 0:i.url)||(null==i?void 0:i.targetUrl),cardUri:null==i?void 0:i.uri,impId:f,packageLabel:a,packageTrackingParams:o,trackingName:l,region:c,trackingParams:d,type:"asset"}),S=Object(y.a)({threshold:.5,data:g}),N=S.isTracked,I=S.ref,P=Object(v.useTracking)().trackEvent;if(!i)return null;var C=Object(x.a)(i),T="collection"===r,z="package"===r,E="rightrail"===r,A=n||T?"thumbLarge":"threeByTwoSmallAt2X",L=Object(j.g)(C,E,n,p),M=C.newsStatus&&u()("p",{},void 0,C.newsStatus),R=C.label&&u()("p",{className:k.e},void 0,C.label),_=C.headlinePrefix&&u()("p",{className:Object(b.cx)(k.c,s()({},k.f,null===C.promotionalMedia))},void 0,C.headlinePrefix),D=L&&u()(w.a,{link:i,onClick:function(){P(Object(j.j)({cardId:null==i?void 0:i.sourceId,cardIndex:t,cardUrl:(null==i?void 0:i.url)||(null==i?void 0:i.targetUrl),cardUri:null==i?void 0:i.uri,packageLabel:a,packageTrackingParams:o,trackingName:l,trackingParams:d,type:"asset"}))},className:Object(b.cx)(k.b,s()({},k.f,null===C.promotionalMedia))},void 0,L),W=C.promotionalMedia&&u()(O.a,{media:C.promotionalMedia,preferredCrop:A}),U=!T&&(!E||n);return u()("li",{className:Object(b.cx)(s()(s()(s()({},k.g,z),k.a,T),k.i,E))},void 0,m.a.createElement("div",{className:k.h,ref:N?null:I,"data-testid":"recirc-item"},u()("div",{className:k.j},void 0,D,U&&M,U&&R,U&&_),null!==C.promotionalMedia&&u()("div",{className:k.d},void 0,W)))};S.displayName="RecirculationItem",S.defaultProps={index:0,isMobile:!1,item:null,packageArea:"package",packageLabel:"",packageTrackingParams:[],region:"footer",trackingName:"",trackingParams:[],useHeadlineFallback:!1},(S.fragments={}).item=Object(f.gql)(i||(i=c()(["\n  fragment RecirculationItem_item on HasPromotionalProperties {\n    newsStatus\n    promotionalMedia {\n      ...ImageWithCredit_media\n      ... on Video {\n        id\n      }\n      ... on Audio {\n        id\n      }\n    }\n    ... on Node {\n      id\n    }\n    ... on CreativeWork {\n      headline {\n        default\n        seo\n      }\n      summary\n      section {\n        id\n        name\n        displayName\n      }\n      tone\n      subsection {\n        id\n        displayName\n      }\n      bylines {\n        creators {\n          ... on Person {\n            id\n            displayName\n            url\n          }\n        }\n      }\n      language {\n        code\n      }\n    }\n    ... on Published {\n      sourceId\n      uri\n      url\n      shortUrl\n      lastMajorModification\n      lastModified\n      firstPublished\n    }\n    ... on Promo {\n      id\n      targetUrl\n      promotionalHeadline\n      promotionalSummary\n    }\n  }\n  ","\n"])),O.a.fragments.media),S.fragments.fallback=Object(f.gql)(r||(r=c()(["\n  fragment RecirculationItem_fallback on LegacyCollection {\n    id\n    url\n    assets: highlights(first: 12) {\n      ...Connection_pageInfo\n      edges {\n        node {\n          ... on Published {\n            sourceId\n            uri\n            url\n            lastMajorModification\n          }\n          ... on Node {\n            id\n          }\n          ... on CreativeWork {\n            headline {\n              default\n            }\n            summary\n            bylines {\n              creators {\n                ... on Person {\n                  id\n                  displayName\n                }\n              }\n            }\n            language {\n              code\n            }\n          }\n          ... on HasPromotionalProperties {\n            newsStatus\n            promotionalMedia {\n              ...ImageWithCredit_media\n            }\n          }\n        }\n      }\n    }\n  }\n  ","\n  ","\n"])),O.a.fragments.media,g.a),S.fragments.personalized=Object(f.gql)(a||(a=c()(["\n  fragment RecirculationItem_personalized on PersonalizedItemsConnection {\n    ...Connection_pageInfo\n    edges {\n      ... on PersonalizedItemsEdge {\n        trackingParams {\n          key\n          value\n        }\n      }\n      node {\n        ... on CreativeWork {\n          ...RecirculationItem_item\n        }\n        ... on Promo {\n          id\n          ...RecirculationItem_item\n        }\n      }\n    }\n  }\n  ","\n  ","\n"])),S.fragments.item,g.a),t.a=S},RL9q:function(e,t,n){"use strict";var i=n("J4zp"),r=n.n(i),a=n("Ap7T"),o=n("q1tI");t.a=function(){var e=Object(o.useState)(),t=r()(e,2),n=t[0],i=t[1];return Object(o.useEffect)((function(){var e=Object(a.v1)();i(e)}),[]),n}},SBGf:function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return b})),n.d(t,"d",(function(){return v})),n.d(t,"c",(function(){return h})),n.d(t,"e",(function(){return y})),n.d(t,"k",(function(){return w})),n.d(t,"f",(function(){return O})),n.d(t,"i",(function(){return j})),n.d(t,"j",(function(){return S})),n.d(t,"m",(function(){return N})),n.d(t,"h",(function(){return I})),n.d(t,"l",(function(){return P})),n.d(t,"g",(function(){return C}));var i=n("lSNA"),r=n.n(i),a=n("RIqP"),o=n.n(a),c=n("cr+I"),l=n.n(c),s=n("06b3"),d=n("Rb+W"),u=n("r6lX"),p=n("bjNE");function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g="STORY_recirc_algo_show_more",b="PAID_POST",v={tablet:{storiesPerRow:2,maxStoriesToShow:4},desktop:{storiesPerRow:3,maxStoriesToShow:6}},h={tablet:{storiesPerRow:2,maxStoriesToShow:2},desktop:{storiesPerRow:3,maxStoriesToShow:3}},y={tablet:{storiesPerRow:1,maxStoriesToShow:10},desktop:{storiesPerRow:1,maxStoriesToShow:10}};function w(e){switch(e){case"1_show_button_all":return{min:3,max:9};case"2_longer_feed":return{min:6,max:6};default:return{min:3,max:3}}}var x=function(e,t){if(!e||!t)return e;for(var n=o()(e),i=n.length-1;i>=0;i-=1){var r,a;null!==(r=n[i])&&void 0!==r&&null!==(a=r.node)&&void 0!==a&&a.sourceId&&t.includes(n[i].node.sourceId)&&n.splice(i,1)}return n},O=function(e){var t=e||{},n=t.articleId,i=t.collections,r=void 0===i?[]:i,a=t.surfaces,c=void 0===a?[]:a,l=t.compositionMetadata,s=void 0===l?[]:l,d=t.recircSectionDisplayName,u=t.recircSectionUrl,p=r.filter((function(e){return e})),m=function(e,t){var n,i={SERIES:1,NEWS_EVENT:2,SPOTLIGHT:3,COLUMN:4,ISSUE:5},r=[],a=[];e.forEach((function(e){var t=e.collectionType;i[t]&&a.push(f(f({},e),{},{priority:i[t]}))})),a.sort((function(e,t){return e.priority-t.priority}));var o=a[0];return null!=o&&null!==(n=o.assets)&&void 0!==n&&n.edges?(o.assets.edges.slice(0,3).forEach((function(e){var t;null!=e&&null!==(t=e.node)&&void 0!==t&&t.sourceId&&r.push(e.node.sourceId)})),{collectionArticles:x(o.assets.edges,[t]),collectionName:o.name,collectionUrl:o.url,collectionTagline:o.tagline,collectionArticleIds:r}):{collectionArticles:null,collectionName:null,collectionUrl:null,collectionTagline:null,collectionArticleIds:[]}}(p,n),g=m.collectionArticles,b=m.collectionName,v=m.collectionUrl,h=m.collectionTagline,y=m.collectionArticleIds;y.push(n);var w=g&&g.length>=3;return{collectionArticles:w?g.slice(0,3):[],collectionName:b,collectionTagline:h,collectionUrl:v,hasAssociatedCollection:w,personalizedPackages:function(e,t,n,i,r,a){return e.reduce((function(e,c){var l,s,d,u=null!==(l=null==c?void 0:c.metadata)&&void 0!==l?l:{},p=u.uri,m=void 0===p?"":p,f=u.trackingParams,g=null!==(s=t.find((function(e){return(null==e?void 0:e.uri)===m})))&&void 0!==s?s:{},b=g.name,v=void 0===b?"":b,h=g.label,y=void 0===h?"":h,w="eos-more-in"===v,O=w?"".concat(y," ").concat(r):y,k=w?a:null,j=(null==c?void 0:c.edges)||[];if(w&&j.length<3){var S,N,I=function(e,t){var n,i=null;return null!==(n=i=e.find((function(e){return e.url===t&&"SECTION"===e.collectionType})))&&void 0!==n&&n.assets||(i=e.find((function(e){return"SECTION"===e.collectionType}))),i}(n,a);j=null!==(S=null==I||null===(N=I.assets)||void 0===N?void 0:N.edges)&&void 0!==S?S:[],null!=I&&I.name&&(O="".concat(y," ").concat(I.name)),null!=I&&I.url&&(k=I.url)}return j=(null===(d=x(j,i))||void 0===d?void 0:d.filter((function(e){var t;return null==e||null===(t=e.node)||void 0===t?void 0:t.promotionalMedia})))||[],[].concat(o()(e),[{uri:m,packageLabel:O,packageUrl:k,trackingParams:f,items:j}])}),[]).slice(0,3)}(c,s,p,y,d,u)}},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return null==e?void 0:e.reduce((function(e,t){return e[t.key]=t.value,e}),{})},j=function(e){var t=e.cardId,n=void 0===t?"":t,i=e.cardIndex,r=void 0===i?null:i,a=e.cardUrl,o=void 0===a?"":a,c=e.cardUri,p=void 0===c?"":c,m=e.impId,g=void 0===m?"":m,b=e.listUri,v=void 0===b?"":b,h=e.packageLabel,y=void 0===h?"":h,w=e.packageTrackingParams,x=void 0===w?[]:w,O=e.trackingName,j=void 0===O?"":O,S=e.region,N=void 0===S?"":S,I=e.trackingParams,P=void 0===I?[]:I,C=e.type,T=void 0===C?"":C,z=k(P),E=l.a.stringify(f(f({},z),{},{impression_id:g}));return{event:"impression",block:f({label:y,name:j,template:j,region:N},v?{list:{uri:v}}:{}),card:{url:o?"".concat(o,"?").concat(E):"",uri:p,index:r,id:n,type:T,algos:z},user:{regiId:Object(d.f)(s.a)},package:{algos_meta:Object(u.coerceTrackingParams)(x)}}},S=function(e){var t=e.cardId,n=void 0===t?"":t,i=e.cardIndex,r=void 0===i?null:i,a=e.cardUrl,o=void 0===a?"":a,c=e.cardUri,l=void 0===c?"":c,p=e.packageLabel,m=void 0===p?"":p,f=e.packageTrackingParams,g=void 0===f?[]:f,b=e.region,v=void 0===b?"":b,h=e.trackingName,y=void 0===h?"":h,w=e.trackingParams,x=void 0===w?[]:w,O=e.type,j=void 0===O?"":O,S=k(x);return{event:"moduleInteraction",eventData:{type:"click",pagetype:j},module:{label:m,name:"".concat(j," click"),context:y,region:v,element:{url:o,uri:l,index:r,id:n,type:j,algos:S}},user:{regiId:Object(d.f)(s.a)},package:{algos_meta:Object(u.coerceTrackingParams)(g)}}},N=function(e){return null==e?void 0:e.replace(/([-'.]|\s+)/g,"").toLowerCase()},I=function(e){return e.reduce((function(e,t,n){return t.uri?f(f({},e),{},r()({},n,t.uri)):e}),{})},P=function(e){return new Set(e.map((function(e){return Object(p.getHeadline)(e.node)}))).size<e.length},C=function(e,t,n,i){return e.headlinePrefix&&t&&!n?"".concat(e.headlinePrefix,": ").concat(e.headline):i?e.seoHeadline||e.summary:e.headline}},XMA8:function(e,t,n){"use strict";n.d(t,"g",(function(){return r})),n.d(t,"h",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"k",(function(){return l})),n.d(t,"m",(function(){return s})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return u})),n.d(t,"d",(function(){return p})),n.d(t,"l",(function(){return m})),n.d(t,"c",(function(){return f})),n.d(t,"p",(function(){return g})),n.d(t,"o",(function(){return b})),n.d(t,"j",(function(){return v})),n.d(t,"n",(function(){return h})),n.d(t,"i",(function(){return y}));var i=function(e,t){return e.find((function(e){return(null==e?void 0:e.name)===t}))},r=function(e,t){if(!e)return null;for(var n=0;n<t.length;n+=1){var r=i(e,t[n]);if(r){var a=r.url;return"images"===a.split("/")[0]&&(r.url="https://static01.nyt.com/".concat(a)),r.url}}return null},a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"crops";return e&&e[t]&&0!==e[t].length&&e[t][0].renditions&&0!==e[t][0].renditions.length?e[t][0].renditions[0].url:null},o="https://static01.nyt.com/newsgraphics/images/icons/defaultCrop.png",c="https://static01.nyt.com/newsgraphics/images/icons/defaultPromoCrop.png",l=function(e){return r(e,["facebookJumbo","videoSixteenByNineJumbo1600","articleLarge"])||c},s=function(e){return r(e,["videoSixteenByNine3000","videoSixteenByNineJumbo1600","articleLarge"])||o},d=function(e,t){return r(e,["thumbLarge"])||t||o},u=function(e){return r(e,["thumbStandard"])||o},p=function e(t){return t.reduce((function(t,n){return t.concat(Array.isArray(n)&&n.length>0?e(n):n)}),[])},m=function(e){var t,n,i;return e?e.promoCrops?e.promoCrops:e.assetCrops?e.assetCrops:null!==(t=e.promotionalMedia)&&void 0!==t&&t.assetCrops?e.promotionalMedia.assetCrops:null!==(n=e.promotionalMedia)&&void 0!==n&&null!==(i=n.promotionalMedia)&&void 0!==i&&i.assetCrops?e.promotionalMedia.promotionalMedia.assetCrops:null:null},f=function(e){if(!e)return"";if(!e.promotionalMedia)return"";var t,n=e.promotionalMedia.crops||e.promotionalMedia.spanImageCrops||null;n||null!==(t=e.promotionalMedia.promotionalMedia)&&void 0!==t&&t.crops&&(n=e.promotionalMedia.promotionalMedia.crops);if(!n)return"";var i=n.map((function(e){return e.renditions}));if(!i)return"";var r=p(i);return r||""},g="mobileMasterAt3x",b=function(e){return(null==e?void 0:e.name)===g},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!Array.isArray(e))return null;var t=e.filter(b);return 0===t.length?null:t[0]},h=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return!(!Array.isArray(t)||0===t.length)&&(null!==(e=t[0])&&void 0!==e&&e.renditions&&(t=p(t.map((function(e){return e.renditions})))),void 0===t.find((function(e){return(null==e?void 0:e.width)>650}))&&void 0===t.find((function(e){var t;return".gif"===(null==e||null===(t=e.url)||void 0===t?void 0:t.substring(e.url.length-4))})))},y=function(e,t){var n,i,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=p((null==e||null===(n=e.media)||void 0===n||null===(i=n.crops)||void 0===i?void 0:i.map((function(e){return e.renditions})))||[]),o=a.filter((function(e){return(null==e?void 0:e.name)!==g}));return h(o)&&"desktop"===t&&!r?"SMALL":e.size}},aFeP:function(e,t,n){"use strict";var i=n("lSNA"),r=n.n(i),a=n("4LjT"),o=n("Kxyt"),c=n("eFc+"),l=n.n(c);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.a=function(e){var t=Object(o.useQuery)(l()(a.userGraphql),{ssr:!1,skip:!!e,fetchPolicy:"cache-first"}),n=t.data,i=void 0===n?{user:e}:n,r=t.refetch;return i.user?d(d({},i.user),{},{fetchUserDataForNewsletter:r}):null}},aqKU:function(e,t,n){"use strict";n.d(t,"g",(function(){return f})),n.d(t,"a",(function(){return b})),n.d(t,"d",(function(){return v})),n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return y})),n.d(t,"j",(function(){return w})),n.d(t,"f",(function(){return x})),n.d(t,"h",(function(){return O})),n.d(t,"e",(function(){return k})),n.d(t,"i",(function(){return j}));var i=n("Jqp9"),r=n("3Rk2"),a=n.n(r),o=n("wXC7"),c=n.n(o),l=n("3sMT"),s=n("jOYC"),d=n("IFQa"),u=c.a.breakpoint,p=c.a.font,m=c.a.button,f=Object(i.css)("margin-top:45px;margin-left:auto;margin-right:auto;background-color:",l.color.background.primary,";",u.medium,"{padding-left:3%;padding-right:3%;padding-top:20px;display:flex;max-width:1200px;border-top:none;}@media print{display:none;}"),g=a()([u.medium,u.large]),b=Object(i.css)("width:100%;"),v=Object(i.css)(g({width:["100%","70%","80%"]})),h=Object(i.css)("border-top:2px solid ",l.color.stroke.primary,";margin:0 20px;",u.medium,"{display:flex;border-top:1px solid ",l.color.stroke.primary,";margin:0;}"),y=Object(i.css)("padding-top:10px;box-sizing:border-box;font-family:",p.franklinBase,";font-weight:",p.weight.bold,";font-size:",p.size(15),";line-height:","".concat(20/p.baseFontSize,"rem"),";max-width:851.25px;",u.medium,"{font-size:",p.size(16),";padding-top:17px;line-height:","".concat(22/p.baseFontSize,"rem"),";padding-right:0;padding-left:0;}a{color:inherit;&:hover{text-decoration:none;}&::after{content:'›';font-weight:500;font-size:1.125rem;margin-left:4px;color:inherit;position:relative;bottom:-0.5px;}",u.medium,"{&:hover{text-decoration:underline;}&::after{content:none;}}}"),w=Object(i.css)("display:inline-block;font-size:",p.size(15),";line-height:","".concat(20/p.baseFontSize,"rem"),";max-width:600px;font-weight:",p.weight.medium,";font-family:",p.franklinBase,";color:",l.color.content.secondary,";margin-top:0;padding:0 20px 0;",u.medium,"{font-size:",p.size(14),";line-height:","".concat(20/p.baseFontSize,"rem"),";padding-left:0;}"),x=Object(i.css)("display:flex;flex-wrap:wrap;padding-top:15px;",u.medium,"{width:100%;justify-content:space-between;border-bottom:none;.",d.a,":nth-child(1) > .",d.h,"{padding-right:10px;border-left:none;}.",d.a,":nth-child(2) > .",d.h,"{padding-right:0;padding-left:10px;}}",u.large,"{.",d.a,":nth-child(2) > .",d.h,"{padding-right:10px;padding-left:9px;}.",d.a,":nth-child(3) > .",d.h,"{padding-right:0;padding-left:10px;}}"),O=Object(i.css)("line-height:",p.size(22),";",u.medium,"{width:",Object(s.c)(4,30,12),";margin-left:30px;max-width:315px;}.",d.b,"{font-size:",p.size(18),";line-height:",p.size(22),";display:block;",u.medium,"{border-top:1px solid ",l.color.stroke.quaternary,";padding:15px 0;}",u.large,"{font-size:",p.size(19),";line-height:",p.size(23),";}}.",d.d,"{display:block;",u.medium,"{display:none;}}"),k=Object(i.css)("display:block;width:100%;",u.medium,"{max-width:48%;padding:0 0 20px;}",u.large,"{max-width:32%;}"),j=Object(i.css)(m.base,";display:flex;margin:15px auto 24px;padding:9px 15px 8px 18px;font-size:14px;line-height:18px;font-weight:",p.weight.mediumBold,";border:1px solid ",l.color.stroke.secondary,";background-color:",l.color.background.primary,";color:",l.color.content.secondary,";")},d3NK:function(e,t,n){"use strict";var i=n("gcR/"),r=n.n(i),a=n("lSNA"),o=n.n(a),c=n("J4zp"),l=n.n(c),s=n("q1tI"),d=n("T5+l"),u=n.n(d),p=n("IiD6"),m=n.n(p),f=n("Jqp9"),g=n("QS0n"),b=n("cr+I"),v=n.n(b),h=n("pCca"),y=n("sOrY"),w=n("ZKN5"),x=n("TwAE"),O=n("DNUX"),k=n("Rb+W"),j=n("06b3"),S=n("wXC7"),N=n.n(S),I=n("3sMT"),P=Object(f.css)("display:none;@media (min-width:765px){background-color:",N.a.color.gray90,";border-bottom:1px solid ",N.a.color.gray80,";display:block;padding-bottom:15px;padding-top:15px;margin:0;}@media print{display:none;}position:relative;"),C=Object(f.css)("background-color:",N.a.color.gray90,";border-bottom:1px solid ",N.a.color.gray80,";border-top:1px solid ",N.a.color.gray80,";margin:2rem auto;padding-bottom:30px;padding-top:12px;text-align:center;",N.a.breakpoint.medium,"{margin:3rem auto;}@media print{display:none;}position:relative;"),T=Object(f.css)("min-height:280px;"),z=Object(f.css)("margin-top:60px;",N.a.breakpoint.medium,"{margin-bottom:0;margin-top:0;}"),E=Object(f.css)("width:100%;margin:2rem auto;border-top:1px solid ",N.a.color.gray80,";border-bottom:1px solid ",N.a.color.gray80,";",N.a.breakpoint.medium,"{margin:3rem auto;}",N.a.breakpoint.small,"{margin-left:auto;margin-right:auto;}"),A=Object(f.css)("position:relative;"),L=Object(f.css)("margin:0;"),M=Object(f.css)("display:none;"),R=Object(f.css)("border-top:1px solid ",N.a.color.gray70,";display:flex;margin:0 ",N.a.grid.pageMargin," 15px;max-width:",N.a.breakpoint.mediaMaxWidth,"px;padding-top:15px;",N.a.breakpoint.small,"{margin-left:auto;margin-right:auto;width:",N.a.breakpoint.textBodyWidth,"px;}",N.a.breakpoint.extraLarge,"{width:",N.a.breakpoint.textBodyWidthExtralarge,"px;}"),_=Object(f.css)("border-bottom:1px solid ",N.a.color.gray55,";display:flex;margin:15px ",N.a.grid.pageMargin,";max-width:",N.a.breakpoint.textBodyWidth,"px;padding-bottom:15px;",N.a.breakpoint.small,"{margin-left:auto;margin-right:auto;width:",N.a.breakpoint.textBodyWidth,"px;}",N.a.breakpoint.extraLarge,"{width:",N.a.breakpoint.textBodyWidthExtralarge,"px;max-width:",N.a.breakpoint.textBodyWidthExtralarge,"px;}"),D=Object(f.css)("color:",N.a.color.gray50,";display:none;font-family:",N.a.font.franklinBase,";font-size:",N.a.font.size(9),";font-weight:",N.a.font.weight.light,";letter-spacing:0.05rem;line-height:",N.a.font.size(9),";margin-left:auto;text-align:center;text-transform:uppercase;",N.a.breakpoint.small,"{display:inline-block;}p{margin-bottom:auto;margin-right:7px;margin-top:auto;text-transform:none;}"),W=Object(f.css)("color:",N.a.color.gray50,";font-family:",N.a.font.franklinBase,";font-size:",N.a.font.size(9),";font-weight:",N.a.font.weight.light,";letter-spacing:0.05rem;line-height:",N.a.font.size(9),";margin-bottom:9px;text-align:center;text-transform:uppercase;"),U=Object(f.css)("padding-bottom:15px;",N.a.breakpoint.medium,"{padding-bottom:0;}"),q=Object(f.css)("width:100%;"),F=Object(f.css)("background:transparent;border:0;border-radius:3px;color:",I.color.content.quaternary,";display:block;font-family:",N.a.font.franklinBase,";font-size:",N.a.font.size(10),";font-weight:",N.a.font.weight.book,";letter-spacing:0.05rem;line-height:",N.a.font.size(10),";margin:3px auto;padding:8px 9px;text-align:center;"),B=Object(f.css)("background-color:",I.color.background.secondary,";color:",I.color.content.quaternary,";");N.a.color.gray90,N.a.color.gray55,N.a.color.gray55,N.a.color.gray90,N.a.breakpoint.small;function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var G="Advertisement",V="Capture Ad",J={pp_morein:!0,sponsor:!0,ribbon:!0,pp_edpick:!0};function Q(e){var t,n=e.id,i=e.sequence,a=e.dropzone,c=e.adDidNotDisplay,d=e.sponsorAdFullBleed,p=e.wrapperClassName,b=e.slugClassName,w=e.defaultAdSlotStyle,S=e.isPrioritized,N=e.lazyLoad,I=n;void 0===n&&i?(I="story-ad-".concat(i),t="mid".concat(i)):t=I=n;var H=m()().adTargeting,Q=void 0===H?{}:H,K=Object(g.useLocation)(),$=Object(f.useTheme)(),Y=Object(h.a)().deviceType,Z=Object(s.useState)(!1),ee=l()(Z,2),te=ee[0],ne=ee[1],ie=Object(s.useState)(!0),re=l()(ie,2),ae=re[0],oe=re[1],ce=Object(s.useState)(null),le=l()(ce,2),se=le[0],de=le[1],ue=Object(s.useState)(!1),pe=l()(ue,2),me=pe[0],fe=pe[1],ge=Object(s.useReducer)(y.a,{standardAdHeight:!0,isFlexFrame:!1,sponsorAdIsEmpty:!0,isTopAd:"top"===I,hideAd:function(e){var t=v.a.parse(K.search);return e&&$.chromeless||t&&"true"===t.nojoy}("top"===I)}),be=l()(ge,2),ve=be[0],he=be[1],ye=j.a.load("vi_show_report_btn")||"";Object(s.useEffect)((function(){te&&c&&c()}),[c,te]),Object(s.useEffect)((function(){!te&&me&&oe(!1)}),[I,me,te]),Object(s.useEffect)((function(){if(se){var e=se.size,t=se.isEmpty,n=se.advertiserId,i=se.sourceAgnosticCreativeId,r=se.sourceAgnosticLineItemId,a=se.slot;t||ye&&(he({debug:{sourceAgnosticCreativeId:i,sourceAgnosticLineItemId:r,googleQueryId:a.getEscapedQemQueryId(),advertiserId:n,pageUrl:window.location.href,clickUrl:"",size:e}}),Object(k.g)(a).then((function(e){he((function(t){return{debug:X(X({},t.debug),{},{clickUrl:e})}}))})))}}),[se,ye]),Object(s.useEffect)((function(){if(!te&&se){var e=se.size;se.isEmpty||("sponsor"===I&&he({sponsorAdIsEmpty:!1}),0===e[0]&&0===e[1]?he({isFlexFrame:!0}):he({isFlexFrame:!1}),250===e[1]||0===e[1]&&"vi"===Q.ver?he({standardAdHeight:!0}):he({standardAdHeight:!1}))}}),[Q.ver,I,te,se]);var we=ve.isTopAd;if(ve.hideAd||Object(k.u)(I))return null;var xe,Oe="".concat(I,"-wrapper"),ke="".concat(I,"-slug"),je=C;if(we?je=P:"ribbon"===I&&(je=A),ve.standardAdHeight&&(xe="smartphone"===Y&&we||"smartphone"===Y&&"pp_morein"===I||"desktop"===Y&&"pp_edpick"===I?{}:"desktop"===Y&&we||"bottom"===I?{minHeight:"90px"}:"sponsor"===I?{}:{minHeight:"250px"}),te&&ae&&a.adsDesktop)return r()("div",{className:q});return r()("div",{id:Oe,className:Object(f.cx)(function(e){return te&&ae||"sponsor"===I&&!se||te?M:"sponsor"===I&&d?_:"sponsor"===I?R:"pp_morein"===I?U:J[I]?null:ve.isFlexFrame?Object(f.cx)(E,e,T,o()({},L,[P,A].includes(e))):"bottom"===I?Object(f.cx)(e,o()(o()({},z,e===C),T,ve.standardAdHeight)):"top"===I?Object(f.cx)(e,o()({},T,ve.standardAdHeight)):ve.standardAdHeight?Object(f.cx)(e,o()({},T,e===C)):e}(je),p)},void 0,r()("div",{id:ke,className:Object(f.cx)(te&&ae?M:"sponsor"===I?D:J[I]?M:W,b)},void 0,r()("p",{},void 0,"sponsor"===I?"Supported by":G)),r()(u.a,{userStyle:w||xe,id:I,position:t,onDFPResponse:function(e){de(e)},onEmpty:function(){ne(!0)},isPrioritized:we||S,onImpressionViewable:function(){fe(!0)},lazyLoad:N}),ye&&r()(x.a,{width:360,className:F,activeClassName:B,buttonContent:V,modalContent:r()(O.a,{adData:X({page:Q.typ,position:t,deviceType:Y},ve.debug)})}))}Q.displayName="ResponsiveAd",Q.displayName="ResponsiveAd",Q.defaultProps={wrapperClassName:void 0,slugClassName:void 0,defaultAdSlotStyle:void 0,id:void 0,sequence:void 0,adDidNotDisplay:void 0,sponsorAdFullBleed:void 0,dropzone:{adsDesktop:!1,adsMobile:!1,index:void 0},isPrioritized:!1,lazyLoad:void 0};t.a=Object(w.a)(Q)},d8k4:function(e,t,n){"use strict";var i=n("VkAN"),r=n.n(i),a=n("gcR/"),o=n.n(a),c=n("q1tI"),l=n.n(c),s=n("eFc+"),d=n.n(s),u=n("ZKN5"),p=n("lSNA"),m=n.n(p),f=n("QS0n"),g=n("Jqp9"),b=n("cr+I"),v=n.n(b),h=n("mczz"),y=n("lwsE"),w=n.n(y),x=n("W8MJ"),O=n.n(x),k=n("a1gu"),j=n.n(k),S=n("Nsbk"),N=n.n(S),I=n("7W2i"),P=n.n(I),C=n("hKI/"),T=n.n(C),z="Polyfill may not function in the presence of the `sandbox` attribute. Consider using the `force` option.",E=/\ballow-same-origin\b/,A=function(){return null};A=function(e){console.error("[srcdoc-polyfill] ".concat(e))};var L=function(e,t,n){if(e&&e.getAttribute&&(t?e.setAttribute("srcdoc",t):t=e.getAttribute("srcdoc"),t)){!function(e,t){var n=e.getAttribute("sandbox");"string"!=typeof n||E.test(n)||(t&&t.force?e.removeAttribute("sandbox"):t&&!1===t.force||(A(z),e.setAttribute("data-srcdoc-polyfill",z)))}(e,n);var i='javascript: window.frameElement.getAttribute("srcdoc");';e.contentWindow&&(e.contentWindow.location=i),e.setAttribute("src",i)}},M=function(){if(!!!("srcdoc"in document.createElement("iframe")))for(var e=document.getElementsByTagName("iframe"),t=e.length;t>0;t-=1)L(e[t])},R=Object(g.css)("border:0;overflow:hidden;width:1px;min-width:100%;");function _(e,t,n){return t=N()(t),j()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],N()(e).constructor):t.apply(e,n))}var D=function(e){function t(){var e;w()(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=_(this,t,[].concat(i))).observer=null,e.frameLoaded=!1,e.state={frameHeight:null},e.onFrameLoaded=function(t){if(t){!function n(){try{var i=t.contentWindow;if(!i)return void setTimeout(n,17);var r=t.contentDocument;if(!r||!r.body)return void setTimeout(n,17);if(""===r.body.innerHTML)return void setTimeout(n,17);var a=r.documentElement,o=function(){return a.offsetHeight+a.offsetTop},c=i.MutationObserver||i.WebKitMutationObserver||i.MozMutationObserver,l=function(){e.setState({frameHeight:o()})};if(e.props.onLoad(t),e.frameLoaded=!0,e.observer=new c(l),e.observer.observe(a,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),!window.requestAnimationFrame)return;var s=T()((function(){e.state.frameHeight!==o()&&l()}),17);window.requestAnimationFrame((function t(){e.frameLoaded&&s(),window.requestAnimationFrame(t)}))}catch(e){console.warn("NYT Iframe error:",e),setTimeout(n,500)}}()}},e}return P()(t,e),O()(t,[{key:"componentDidMount",value:function(){this.props.srcDoc&&M()}},{key:"componentWillUnmount",value:function(){this.observer&&this.observer.disconnect(),this.frameLoaded=!1}},{key:"render",value:function(){var e=this.props,t=e.src,n=e.srcDoc,i=e.id,r=e.className,a=this.state.frameHeight,o={src:t};n&&(o={srcDoc:n,"data-src":t});var c=Object.assign(o,{className:Object(g.cx)(R,r),frameBorder:0,scrolling:"no",width:"100%",id:i,ref:this.onFrameLoaded},"number"==typeof a?{height:a}:{});return l.a.createElement("iframe",c)}}])}(c.Component);D.displayName="Iframe",D.defaultProps={src:null,srcDoc:null,id:null,className:void 0,onLoad:function(){}};var W,U=D,q=n("wXC7"),F=n.n(q),B=Object(g.css)("display:block;margin:0 auto;line-height:0;"),H=Object(g.css)("border-top:1px solid ",F.a.color.gray60,";border-bottom:1px solid ",F.a.color.gray60,";"),X=Object(g.css)("width:",F.a.breakpoint.mobileFullWidth,";max-width:",F.a.breakpoint.textBodyWidth,"px;margin-left:",F.a.grid.pageMargin,"px;margin-right:",F.a.grid.pageMargin,"px;@media (max-width:340px){width:calc(100% - 20px);}",F.a.breakpoint.small,"{margin-left:auto;margin-right:auto;}",F.a.breakpoint.mediumLarge,"{width:",F.a.breakpoint.textBodyWidth,"px;margin-left:0;}",F.a.breakpoint.extraLarge,"{width:",F.a.breakpoint.textBodyWidthExtralarge,"px;max-width:",F.a.breakpoint.textBodyWidthExtralarge,"px;}"),G=(new Date).getFullYear();function V(e){var t,n=e.asset,i=e.styles,r=e.inStory,a=Object(g.useTheme)(),l=Object(f.useLocation)();if(Object(c.useEffect)((function(){window.location.hostname.match(/\.nytimes\.com/)&&(document.domain="nytimes.com")}),[]),!n.sourceId)return null;var s="",d="/interactive/".concat(G,"/uri/").concat(n.uri.split("nyt://")[1]),u="https://www.nytimes.com",p={},b=Object(h.d)(l,"GQL_HOST_SERVER"),y=Object(h.d)(l,"GQL_HOST_CLIENT"),w=Object(h.d)(l,"GQL_HOST");if("test"===vi.env.ENVIRONMENT&&(u="https://www.stg.nytimes.com"),("local"===vi.env.ENVIRONMENT||"dev"===vi.env.ENVIRONMENT||/-sbx$/.test(vi.env.ENVIRONMENT))&&(u="",b&&""!==b&&(p.GQL_HOST_SERVER=b),y&&""!==y&&(p.GQL_HOST_CLIENT=y),w&&""!==w&&(p.GQL_HOST=w)),function(e){var t=v.a.parse(e.search);return!(!t||void 0===t.scooppreview)||!!window.location.search.match(/scooppreview/)}(l)){switch(s="/resources/app/url/proxy/html?url=",vi.env.ENVIRONMENT){case"preview-development":u="http://alpha-preview.dev.nytimes.com";break;case"preview-staging":u="http://alpha-preview.stg.nytimes.com";break;default:u="http://alpha-preview.nytimes.com"}u=encodeURIComponent(u),d=encodeURIComponent(d),p.contentUri=encodeURIComponent(n.uri)}var x="?".concat(v.a.stringify(p)),O=n.displayProperties,k=(void 0===O?{}:O).maxWidth||0,j=n.headline&&!(n.displayProperties&&n.displayProperties.displayForPromotionOnly),S=r&&j&&!1,N={maxWidth:"100%",margin:"0 auto"},I={maxWidth:k};return o()("div",{style:N,className:Object(g.cx)(m()({},X,"medium"===(null===(t=a.tone)||void 0===t?void 0:t.toLowerCase())))},void 0,o()("div",{"data-id":n.sourceId,"data-slug":n.slug,className:Object(g.cx)(B,m()({},H,S),i),style:I},void 0,o()(U,{src:"".concat(s).concat(u).concat(d).concat(x)})))}V.displayName="EmbeddedIframe",V.defaultProps={styles:"",inStory:!1},V.fragments={media:d()(W||(W=r()(["\n    fragment EmbeddedIframe_media on CreativeWork {\n      headline {\n        default\n      }\n      displayProperties {\n        displayOverrides\n        displayForPromotionOnly\n        maxWidth: maximumWidth\n      }\n      ... on Interactive {\n        id\n        slug\n      }\n      ... on EmbeddedInteractive {\n        id\n        slug\n      }\n      ... on Published {\n        sourceId\n        uri\n      }\n    }\n  "])))};var J,Q=V,K=n("RKHt"),$=n.n(K),Y=n("5g7D"),Z=n.n(Y),ee=n("SYzA"),te=Object(g.css)("margin:",F.a.font.size(37)," auto;width:calc(100% - 20px);@media (min-width:340px) and (max-width:630px){width:calc(100% - 40px);}"),ne=te,ie=Object(g.css)(te," max-width:",F.a.breakpoint.textBodyWidth,"px;"),re=Object(g.css)(te," max-width:945px;",F.a.breakpoint.extraLarge,"{max-width:",F.a.breakpoint.mediaMaxWidth,"px;}"),ae=Object(g.css)("margin-top:0;position:relative;z-index:901;"),oe=Object(g.css)("width:100%;@media (min-width:340px) and (max-width:630px){width:100%;}",F.a.breakpoint.small,"{width:calc(100% - 40px);#live-chat-feed &{width:100%;}}"),ce={SMALL:ie,MEDIUM:ie,LARGE:re,FULL:ne};function le(e){var t,n,i,r=e.media,a=e.locksmith,l=e.blockSize,s=e.children,d=e.inStory,u=e.isAboveH1,p=e.embeddedClass,f=e.manageScripts,b=e.enableInteractiveBridge,v=Object(ee.a)();Object(c.useEffect)((function(){if(null!=a&&a.lock){var e=r.slug;a.lock(e)}}),[]);var h,y=d?ce[l]||ie:"",w=null===(t=r.displayProperties)||void 0===t?void 0:t.maxWidth;return o()($.a,{interactive:r,className:Object(g.cx)(y,p,m()(m()(m()(m()({},(h=w,Object(g.css)("max-width:",h,"px;",F.a.breakpoint.extraLarge,"{max-width:",h,"px;}")),w),oe,/grid|carousel/.test(null==r||null===(n=r.headline)||void 0===n?void 0:n.default)),ae,u),Z()(null==r||null===(i=r.displayProperties)||void 0===i?void 0:i.displayOverrides),v)),size:l,manageScripts:f,enableInteractiveBridge:b},void 0,s)}le.displayName="EmbeddedInline",le.defaultProps={blockSize:void 0,embeddedClass:void 0,inStory:!1,isAboveH1:!1,children:null,manageScripts:!1,locksmith:void 0,enableInteractiveBridge:!0},le.fragments={media:d()(J||(J=r()(["\n    fragment EmbeddedInline_media on CreativeWork {\n      headline {\n        default\n      }\n      advertisingProperties {\n        sensitivity\n      }\n      displayProperties {\n        displayForPromotionOnly\n        displayOverrides\n        maxWidth: maximumWidth\n        minWidth: minimumWidth\n      }\n      bylines {\n        prefix\n        creators {\n          ... on TimesTag {\n            displayName\n          }\n        }\n      }\n      ... on Published {\n        sourceId\n      }\n      ... on InteractiveWork {\n        credit\n        leadin\n        note\n        dataSource\n        html\n      }\n      ... on Interactive {\n        id\n        slug\n      }\n      ... on EmbeddedInteractive {\n        id\n        slug\n      }\n    }\n  "])))};var se,de=le,ue=/^<iframe[^>]+>\s*<\/iframe>\s*$/;function pe(e){var t,n,i=e.media,r=e.styles,a=e.inStory,c=e.isAboveH1,l=e.blockSize,s=e.embeddedClass,d=e.manageScripts,u=e.locksmith;if(!i||!i.html)return null;if(0===(null==i||null===(t=i.slug)||void 0===t?void 0:t.toLowerCase().indexOf("newsletter-signup-")))return null;if(ue.test(i.html)){return o()("div",{className:r,style:{marginLeft:"auto",marginRight:"auto"},dangerouslySetInnerHTML:{__html:i.html}})}return i.compatibility&&"nyt5"!==i.compatibility.toLowerCase()?"inline"===(null===(n=i.compatibility)||void 0===n?void 0:n.toLowerCase())?o()(de,{embeddedClass:s,media:i,blockSize:l,inStory:a,isAboveH1:c,manageScripts:d,locksmith:u}):o()(Q,{styles:r,asset:i,inStory:a,blockSize:l}):o()(Q,{asset:i,styles:r,inStory:a,blockSize:l})}pe.displayName="EmbeddedInteractive",pe.defaultProps={styles:void 0,blockSize:void 0,embeddedClass:void 0,inStory:!1,isAboveH1:!1,manageScripts:!1,locksmith:void 0},pe.fragments={media:d()(se||(se=r()(["\n    fragment EmbeddedInteractive_media on EmbeddedInteractive {\n      id\n      appName\n      storyFormat\n      slug\n      html\n      compatibility\n      ...EmbeddedInline_media\n      ...EmbeddedIframe_media\n    }\n    ","\n    ","\n  "])),de.fragments.media,Q.fragments.media)};t.a=Object(u.a)(pe)},eGUr:function(e,t,n){"use strict";var i=n("J4zp"),r=n.n(i),a=n("q1tI");t.a=function(e,t){var n=Object(a.useState)(!1),i=r()(n,2),o=i[0],c=i[1];Object(a.useEffect)((function(){o||(e(t),c(!0))}),[e,t,o])}},hG4R:function(e,t,n){"use strict";n.d(t,"b",(function(){return m}));var i,r=n("VkAN"),a=n.n(r),o=n("gcR/"),c=n.n(o),l=(n("q1tI"),n("eFc+")),s=n.n(l),d=n("KQYy"),u=n("B2Q+"),p={threeByTwoLargeAt2X:{initial:1080,safe:[600,1100,1620]},threeByTwoMediumAt2X:{initial:1080,safe:[600,1100]},threeByTwoSmallAt2X:{initial:400,safe:[400]},largeHorizontalJumbo:{initial:719,safe:[700]},square640:{initial:218,safe:[350]}},m=function(e,t,n){if(!(e&&(e.spanImageCrops&&e.spanImageCrops.length||e.crops&&e.crops.length)))return null;var i;if(!(i=e.spanImageCrops?e.spanImageCrops.reduce((function(e,t){return e.concat(t.renditions)}),[]):e.crops.reduce((function(e,t){return e.concat(t.renditions)}),[])).length)return null;var r=Array.isArray(n)?n:[n],a=t||r.find((function(e){return i.find((function(t){return t.name===e}))}));return i.find((function(e){return e.name===a}))||i[0]},f=function(e){var t=e.lazy,n=e.caption,i=e.media,r=e.preferredCrop,a=e.crop,o=e.metadataOptOut,l=m(i,r,a);if(!l)return null;var s=l.height,f=l.width,g={src:l.url,alt:n},b=p[l.name]?p[l.name]:null,v=b?b.safe:null,h=b?b.initial:null,y=f/s,w=Object(u.a)();return c()(d.a,{lazy:t,imageProps:g,initialAspectRatio:y,initialImageWidth:h,safeWidths:v,metadataOptOut:o,rootMargin:"smartphone"===w?200:400})};f.displayName="SpanImage",f.defaultProps={lazy:void 0,preferredCrop:"threeByTwoLargeAt2X",crop:"threeByTwoLargeAt2X",metadataOptOut:!1,caption:""},f.fragments={media:s()(i||(i=a()(['\n    fragment SpanImage_media on Image {\n      id\n      caption {\n        text @stripHtml\n      }\n      spanImageCrops: crops(\n        renditionNames: [\n          "videoLarge"\n          "largeHorizontalJumbo"\n          "articleLarge"\n          "master1050"\n          "square640"\n          "thumbLarge"\n          "threeByTwoSmallAt2X"\n          "threeByTwoMediumAt2X"\n          "threeByTwoLargeAt2X"\n        ]\n      ) {\n        name\n        renditions {\n          name\n          url\n          width\n          height\n        }\n      }\n    }\n  '])))},t.a=f},hkPW:function(e,t,n){"use strict";var i=n("J4zp"),r=n.n(i),a=n("q1tI"),o=n("X6oL"),c=n("Gl8y");t.a=function(e){var t=e.root,n=void 0===t?null:t,i=e.rootMargin,l=e.threshold,s=void 0===l?.1:l,d=e.data,u=Object(o.useTracking)(),p=Object(c.a)({root:n,rootMargin:i,threshold:s}),m=r()(p,2),f=m[0],g=m[1],b=Object(a.useState)(!1),v=r()(b,2),h=v[0],y=v[1];return Object(a.useEffect)((function(){g.isIntersecting&&(Array.isArray(d)?d.forEach((function(e){return u.trackEvent(e)})):u.trackEvent(d),y(!0))}),[g.isIntersecting]),{isTracked:h,ref:f,refEl:g}}},jOYC:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return b}));var i=n("Jqp9"),r=n("wXC7"),a=n.n(r),o=n("nxVm"),c=n.n(o),l=n("TvEp"),s=n.n(l),d=n("dmwf"),u=n.n(d),p=Object(i.css)("width:","calc(100% - 40px)",";max-width:",a.a.breakpoint.textBodyWidth,"px;margin-left:","20px",";margin-right:","20px",";",a.a.breakpoint.small,"{margin-left:auto;margin-right:auto;}",a.a.breakpoint.mediumLarge,"{width:",a.a.breakpoint.textBodyWidth,"px;}",a.a.breakpoint.extraLarge,"{width:",a.a.breakpoint.textBodyWidthExtralarge,"px;max-width:",a.a.breakpoint.textBodyWidthExtralarge,"px;}",c.a,";"),m={left:Object(i.css)("text-align:left;"),center:Object(i.css)("text-align:center;"),right:Object(i.css)("text-align:right;")},f=Object(i.css)("margin-left:","20px",";margin-right:","20px",";width:","calc(100% - 40px)",";max-width:",a.a.breakpoint.textBodyWidth,"px;&:first-child{margin-top:0;}&:last-child{margin-bottom:0;}&",s.a,"{&:last-child{margin-bottom:0.75rem;}}&",u.a,"{&:first-child{margin-top:0.8125rem;}}",a.a.breakpoint.small,"{margin-left:auto;margin-right:auto;}",a.a.breakpoint.mediumLarge,"{margin-left:0;margin-right:0;width:100%;max-width:100%;&",u.a,"{&:first-child{margin-top:1.1875rem;}}}",c.a,";"),g=Object(i.css)("width:100%;margin-left:0;",a.a.breakpoint.small,"{width:","calc(100% - 40px)",";max-width:unset;}",a.a.breakpoint.mediumLarge,"{width:100%;max-width:unset;}"),b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12,i="15px",r=20,a=n-1,o=a*t+2*r;return"calc(".concat(e," * (((100vw - ").concat(o,"px) - ").concat(i,") / ").concat(n,") + (").concat(e," - 1) * ").concat(t,"px)")};t.b={layout:{feature:p,news:p,opinion:p,magazine:p,"t-magazine":p,textAlign:m,nonInterrupterTextElementBaseClass:f,largeWidthClass:g},grid:{pageMargin:"20px",mobileFullWidth:"calc(100% - 40px)"}}},rleM:function(e,t,n){"use strict";var i,r=n("gcR/"),a=n.n(r),o=n("J4zp"),c=n.n(o),l=n("VkAN"),s=n.n(l),d=n("MlQP"),u=n("T25G"),p=n("C/YW"),m=n.n(p),f=n("eFc+"),g=n.n(f),b=n("PgO9"),v=n("q1tI"),h=n("Kxyt"),y=n("HUmG"),w=n("5DNu"),x=n("X6oL"),O=n("oXTd"),k=n("+zxi");var j=g()(i||(i=s()(["\n  query NewsletterAutoSignupQuery($productCode: String) {\n    newsletterConfig(newsletterId: $productCode) {\n      id\n      title\n      newsletterId\n      allowedEntitlement\n      isOnsiteFreeTrialEnabled\n      subscriptionPageLink\n    }\n  }\n"]))),S=function(e){var t=e.newsletter,n=e.onSignup;t.signup({signupFormVersion:O.i.newsletterGridIndexPage}).then((function(e){var i=t.getData().subscriptionPageLink;if(e.subscriptionNeeded&&i){var r=Object(k.a)(i,{ref:O.j.newsletterGridIndexPage});window.location.assign(r)}else e.success&&n(e,t)}))};t.a=function(e){var t=e.onSignup,n=e.pageLoading,i=Object(h.useApolloClient)(),r=Object(v.useRef)(t);r.current=t;var o=Object(b.a)().user,l=!o,s=function(e){var t=e.user;return null!==t&&!Object(y.d)(t)}({user:o}),p=Object(v.useState)(!1),f=c()(p,2),g=f[0],O=f[1],k=Object(v.useRef)({handleSignup:null}),N=Object(v.useState)(null),I=c()(N,2),P=I[0],C=I[1],T=Object(x.useTracking)().trackEvent;Object(v.useEffect)((function(){var e=function(){var e,t=new URLSearchParams(window.location.search),n="true"===t.get("newsletter_signup"),i=decodeURIComponent(null!==(e=t.get("product_code"))&&void 0!==e?e:"");return n&&Object(u.isValidNewsletterCode)(i)?i:null}();e&&(T(Object(w.a)({clientId:"",newsletterName:"",productCode:e,label:"one click"})),i.query({query:j,variables:{productCode:e}}).then((function(e){var t=e.data,n=null==t?void 0:t.newsletterConfig;n&&C(Object(d.getNewsletterProduct)(n))})))}),[i,T]);var z=Object(v.useRef)(!1);return Object(v.useEffect)((function(){l||!P||n||z.current||(z.current=!0,s?(k.current={handleSignup:S},O(!0)):S({newsletter:P,onSignup:r.current}))}),[s,P,l,n]),{loginModal:Object(v.useMemo)((function(){return s&&P?a()(m.a,{isOpen:g,handleClose:function(){return O(!1)},onLogin:function(){window.location.reload()},host:vi.env.AUTH_HOST,newsletter:P}):null}),[s,g,P])}}}}]);
//# sourceMappingURL=recirculation-eb94749aaae4fd113451.js.map