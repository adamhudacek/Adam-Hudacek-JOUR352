!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="eafd2ead-64c7-400d-be63-45b75d55ef24",e._sentryDebugIdIdentifier="sentry-dbid-eafd2ead-64c7-400d-be63-45b75d55ef24")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"fdfc4e03e154b09c9cd7b5ee9174f78809d1cf36"},(window.webpackJsonp=window.webpackJsonp||[]).push([[72],{EcvJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return s}));var o=n("Jqp9"),i=n("wXC7"),r=n.n(i),a=Object(o.css)("background-color:",r.a.color.gray50,";border-radius:50%;height:","26px",";width:","26px",";max-width:unset;object-fit:cover;"),c=Object(o.css)("min-width:","26px",";width:","26px",";line-height:0;"),s=Object(o.css)("background:none;border:none;color:",r.a.color.linkColor,";font-family:",r.a.font.franklinBase,";font-size:0.5625rem;font-weight:",r.a.font.weight.medium,";letter-spacing:0.013em;line-height:normal;padding-top:3px;text-align:center;text-decoration:none;text-transform:uppercase;width:100%;&:hover{text-decoration:underline;cursor:pointer;}")},GUXu:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var o={};n.r(o),n.d(o,"actionClass",(function(){return f})),n.d(o,"secondaryClass",(function(){return b})),n.d(o,"defaultClass",(function(){return v}));var i=n("pVnL"),r=n.n(i),a=n("QILm"),c=n.n(a),s=n("q1tI"),l=n.n(s),d=n("Jqp9"),u=n("wXC7"),m=n.n(u),p=Object(d.css)("background:none;border:none;color:",m.a.color.linkColor,";font-family:",m.a.font.franklinBase,";font-size:",m.a.font.size(13),";line-height:",m.a.font.size(18),";text-decoration:none;&:hover{text-decoration:underline;cursor:pointer;}"),f=Object(d.css)("button&,a{",p,";font-weight:",m.a.font.weight.mediumBold,";}"),b=Object(d.css)("button&,a{",p,";}"),v=Object(d.css)("button&,a{",p,";color:",m.a.color.gray40,";padding-bottom:4px;}"),h=["children","onClick","theme"],g={ACTION:"action",SECONDARY:"secondary",DEFAULT:"default"},y=function(e){var t=e.children,n=e.onClick,i=e.theme,a=c()(e,h),s=o["".concat(i,"Class")];return n?l.a.createElement("button",r()({type:"button",tabIndex:0,className:s,onClick:n},a),t):l.a.createElement("span",r()({className:s},a),t)};y.displayName="TextButton",y.defaultProps={children:null,onClick:null,theme:g.DEFAULT};t.b=y},Id00:function(e,t,n){"use strict";var o=n("gcR/"),i=n.n(o),r=(n("q1tI"),n("+4HN")),a=n("GB3f"),c=function(e){var t=e.children;return i()(r.a,{url:Object(a.b)()},void 0,t)};c.displayName="LoginLink",t.a=c},RoA3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=!("undefined"==typeof window||!window.document||!window.document.createElement);var i=void 0;function r(){return void 0===i&&(i=function(){if(!o)return!1;if(!window.addEventListener||!window.removeEventListener||!Object.defineProperty)return!1;var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}}),n=function(){};window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t)}catch(e){}return e}()),i}function a(e){e.handlers===e.nextHandlers&&(e.nextHandlers=e.handlers.slice())}function c(e){this.target=e,this.events={}}c.prototype.getEventHandlers=function(e,t){var n,o=String(e)+" "+String((n=t)?!0===n?100:(n.capture<<0)+(n.passive<<1)+(n.once<<2):0);return this.events[o]||(this.events[o]={handlers:[],handleEvent:void 0},this.events[o].nextHandlers=this.events[o].handlers),this.events[o]},c.prototype.handleEvent=function(e,t,n){var o=this.getEventHandlers(e,t);o.handlers=o.nextHandlers,o.handlers.forEach((function(e){e&&e(n)}))},c.prototype.add=function(e,t,n){var o=this,i=this.getEventHandlers(e,n);a(i),0===i.nextHandlers.length&&(i.handleEvent=this.handleEvent.bind(this,e,n),this.target.addEventListener(e,i.handleEvent,n)),i.nextHandlers.push(t);var r=!0;return function(){if(r){r=!1,a(i);var c=i.nextHandlers.indexOf(t);i.nextHandlers.splice(c,1),0===i.nextHandlers.length&&(o.target&&o.target.removeEventListener(e,i.handleEvent,n),i.handleEvent=void 0)}}};t.addEventListener=function(e,t,n,o){e.__consolidated_events_handlers__||(e.__consolidated_events_handlers__=new c(e));var i=function(e){if(e)return r()?e:!!e.capture}(o);return e.__consolidated_events_handlers__.add(t,n,i)}},VOpz:function(e,t,n){"use strict";n.d(t,"k",(function(){return c})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"g",(function(){return u})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return p})),n.d(t,"a",(function(){return f})),n.d(t,"h",(function(){return b})),n.d(t,"i",(function(){return v})),n.d(t,"j",(function(){return h})),n.d(t,"l",(function(){return g}));var o=n("Jqp9"),i=n("wXC7"),r=n.n(i),a=n("EcvJ"),c=Object(o.css)("display:flex;font-size:",r.a.font.size(15),";margin-bottom:5px;width:100%;"),s=Object(o.css)("margin:14px 0 10px;.",a.b,"{margin-right:15px;}"),l=Object(o.css)("flex-grow:2;"),d=Object(o.css)("margin-left:10px;"),u=Object(o.css)("font-weight:",r.a.font.weight.bold,";"),m=Object(o.css)("color:",r.a.color.gray35,";font-size:",r.a.font.size(14),";font-weight:",r.a.font.weight.light,";line-height:",r.a.font.size(17),";margin-top:3px;a{color:",r.a.color.gray35,";font-family:",r.a.font.franklinBase,";text-decoration:none;display:inline-flex;&:hover{text-decoration:underline;}}"),p=Object(o.css)("& > *{&::before{color:",r.a.color.gray60,";content:'|';display:inline-block;margin:0 8px;}&:first-child::before{content:'';margin:0;}}"),f=Object(o.css)(".",u,"{background:",r.a.color.gray80,";height:10px;width:162px;}.",m,"{background:",r.a.color.gray80,";height:10px;margin-top:4px;width:100px;}"),b=Object(o.css)("border:7px inset transparent;display:inline-block;height:0;position:absolute;width:0;border-bottom:7px solid ",r.a.color.gray70,";margin-left:2px;top:13px;z-index:1;visibility:hidden;"),v=Object(o.css)("border:7px inset transparent;display:inline-block;height:0;position:absolute;width:0;border-bottom:7px solid white;left:-7px;top:-4px;"),h=Object(o.css)("visibility:hidden;position:relative;width:214px;border:2px solid ",r.a.color.gray70,";padding:11px 11px 10px 15px;font-size:",r.a.font.size(11),";font-family:",r.a.font.franklinBase,";font-weight:",r.a.font.weight.medium,";line-height:",r.a.font.size(15),";text-wrap:wrap;margin-top:-10px;background:white;box-shadow:0 0 10px rgba(0,0,0,0.15);a{text-decoration:underline;cursor:pointer;}"),g=Object(o.css)("position:relative;cursor:help;max-height:",r.a.font.size(40),";overflow:visible;&:hover .",h,"{visibility:visible;}&:hover .",b,"{visibility:visible;}")},cFmA:function(e,t,n){"use strict";(function(e){function o(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var i=n("RoA3"),r=(o(n("17x9")),o(n("q1tI"))),a=n("kvVz");function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=s(e);if(t){var i=s(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return d(this,n)}}function m(e,t){var n,o=(n=e,!isNaN(parseFloat(n))&&isFinite(n)?parseFloat(n):"px"===n.slice(-2)?parseFloat(n.slice(0,-2)):void 0);if("number"==typeof o)return o;var i=function(e){if("%"===e.slice(-1))return parseFloat(e.slice(0,-1))/100}(e);return"number"==typeof i?i*t:void 0}function p(e){return"string"==typeof e.type}var f;var b=[];function v(e){b.push(e),f||(f=setTimeout((function(){var e;for(f=null;e=b.shift();)e()}),0));var t=!0;return function(){if(t){t=!1;var n=b.indexOf(e);-1!==n&&(b.splice(n,1),!b.length&&f&&(clearTimeout(f),f=null))}}}var h={debug:!1,scrollableAncestor:void 0,children:void 0,topOffset:"0px",bottomOffset:"0px",horizontal:!1,onEnter:function(){},onLeave:function(){},onPositionChange:function(){},fireOnRapidScroll:!0},g=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(f,t);var n,o,s,d=u(f);function f(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),(t=d.call(this,e)).refElement=function(e){t._ref=e},t}return n=f,(o=[{key:"componentDidMount",value:function(){var e=this;f.getWindow()&&(this.cancelOnNextTick=v((function(){e.cancelOnNextTick=null;var t=e.props,n=t.children;t.debug,function(e,t){if(e&&!p(e)&&!t)throw new Error("<Waypoint> needs a DOM element to compute boundaries. The child you passed is neither a DOM element (e.g. <div>) nor does it use the innerRef prop.\n\nSee https://goo.gl/LrBNgw for more info.")}(n,e._ref),e._handleScroll=e._handleScroll.bind(e),e.scrollableAncestor=e._findScrollableAncestor(),e.scrollEventListenerUnsubscribe=i.addEventListener(e.scrollableAncestor,"scroll",e._handleScroll,{passive:!0}),e.resizeEventListenerUnsubscribe=i.addEventListener(window,"resize",e._handleScroll,{passive:!0}),e._handleScroll(null)})))}},{key:"componentDidUpdate",value:function(){var e=this;f.getWindow()&&this.scrollableAncestor&&(this.cancelOnNextTick||(this.cancelOnNextTick=v((function(){e.cancelOnNextTick=null,e._handleScroll(null)}))))}},{key:"componentWillUnmount",value:function(){f.getWindow()&&(this.scrollEventListenerUnsubscribe&&this.scrollEventListenerUnsubscribe(),this.resizeEventListenerUnsubscribe&&this.resizeEventListenerUnsubscribe(),this.cancelOnNextTick&&this.cancelOnNextTick())}},{key:"_findScrollableAncestor",value:function(){var t=this.props,n=t.horizontal,o=t.scrollableAncestor;if(o)return function(t){return"window"===t?e.window:t}(o);for(var i=this._ref;i.parentNode;){if((i=i.parentNode)===document.body)return window;var r=window.getComputedStyle(i),a=(n?r.getPropertyValue("overflow-x"):r.getPropertyValue("overflow-y"))||r.getPropertyValue("overflow");if("auto"===a||"scroll"===a||"overlay"===a)return i}return window}},{key:"_handleScroll",value:function(e){if(this._ref){var t=this._getBounds(),n=function(e){return e.viewportBottom-e.viewportTop==0?"invisible":e.viewportTop<=e.waypointTop&&e.waypointTop<=e.viewportBottom||e.viewportTop<=e.waypointBottom&&e.waypointBottom<=e.viewportBottom||e.waypointTop<=e.viewportTop&&e.viewportBottom<=e.waypointBottom?"inside":e.viewportBottom<e.waypointTop?"below":e.waypointTop<e.viewportTop?"above":"invisible"}(t),o=this._previousPosition,i=this.props,r=(i.debug,i.onPositionChange),a=i.onEnter,c=i.onLeave,s=i.fireOnRapidScroll;if(this._previousPosition=n,o!==n){var l={currentPosition:n,previousPosition:o,event:e,waypointTop:t.waypointTop,waypointBottom:t.waypointBottom,viewportTop:t.viewportTop,viewportBottom:t.viewportBottom};r.call(this,l),"inside"===n?a.call(this,l):"inside"===o&&c.call(this,l),s&&("below"===o&&"above"===n||"above"===o&&"below"===n)&&(a.call(this,{currentPosition:"inside",previousPosition:o,event:e,waypointTop:t.waypointTop,waypointBottom:t.waypointBottom,viewportTop:t.viewportTop,viewportBottom:t.viewportBottom}),c.call(this,{currentPosition:n,previousPosition:"inside",event:e,waypointTop:t.waypointTop,waypointBottom:t.waypointBottom,viewportTop:t.viewportTop,viewportBottom:t.viewportBottom}))}}}},{key:"_getBounds",value:function(){var e,t,n=this.props,o=n.horizontal,i=(n.debug,this._ref.getBoundingClientRect()),r=i.left,a=i.top,c=i.right,s=i.bottom,l=o?r:a,d=o?c:s;this.scrollableAncestor===window?(e=o?window.innerWidth:window.innerHeight,t=0):(e=o?this.scrollableAncestor.offsetWidth:this.scrollableAncestor.offsetHeight,t=o?this.scrollableAncestor.getBoundingClientRect().left:this.scrollableAncestor.getBoundingClientRect().top);var u=this.props,p=u.bottomOffset;return{waypointTop:l,waypointBottom:d,viewportTop:t+m(u.topOffset,e),viewportBottom:t+e-m(p,e)}}},{key:"render",value:function(){var e=this,t=this.props.children;return t?p(t)||a.isForwardRef(t)?r.cloneElement(t,{ref:function(n){e.refElement(n),t.ref&&("function"==typeof t.ref?t.ref(n):t.ref.current=n)}}):r.cloneElement(t,{innerRef:this.refElement}):r.createElement("span",{ref:this.refElement,style:{fontSize:0}})}}])&&c(n.prototype,o),s&&c(n,s),f}(r.PureComponent);g.above="above",g.below="below",g.inside="inside",g.invisible="invisible",g.getWindow=function(){if("undefined"!=typeof window)return window},g.defaultProps=h,g.displayName="Waypoint",t.Waypoint=g}).call(this,n("oDJU"))},dlEz:function(e,t,n){"use strict";var o=n("gcR/"),i=n.n(o),r=n("lwsE"),a=n.n(r),c=n("W8MJ"),s=n.n(c),l=n("a1gu"),d=n.n(l),u=n("Nsbk"),m=n.n(u),p=n("7W2i"),f=n.n(p),b=n("q1tI"),v=n("Jqp9"),h=n("7FfI");function g(e,t,n){return t=m()(t),d()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],m()(e).constructor):t.apply(e,n))}var y={elapsed:"elapsed","elapsed-with-label":"elapsed","elapsed-with-year":"elapsed-year","short-elapsed":"short-elapsed","nyt-date":"LL","full-date":"ll","masthead-date":"LLL","abbreviated-date":"LL"},w=function(e){function t(){var e;a()(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=g(this,t,[].concat(o))).state={localeTimestamp:null,dateTime:Object(h.getISOFromUnix)(e.props.unix)},e}return f()(t,e),s()(t,[{key:"componentDidMount",value:function(){this.formatTime()}},{key:"componentDidUpdate",value:function(e){e.iso===this.props.iso&&e.unix===this.props.unix&&e.formatter===this.props.formatter||this.formatTime()}},{key:"formatTime",value:function(){var e=this.props.iso&&Object(h.getISOFromString)(this.props.iso)||Object(h.getISOFromUnix)(this.props.unix)||(new Date).toISOString();this.setState({label:["elapsed-with-year","elapsed"].indexOf(this.props.formatter)>-1?this.toLocale(e,!0):null,localeTimestamp:this.toLocale(e,["elapsed-with-year","elapsed-with-label"].indexOf(this.props.formatter)>-1)})}},{key:"toLocale",value:function(e,t){var n=this.props,o=n.formatter,i=n.theme,r=Object(h.getTimestampLocale)(null==i?void 0:i.language),a="elapsed-with-year"===this.props.formatter;if("function"==typeof o)return o({date:new Date(e),labelText:t,checkDays:a});var c=y[o]?y[o]:"LL";return Object(h.formatDate)(e,c,r,t,a)}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.updatedText,o=e.updatedTextClassName;return this.state.localeTimestamp?i()("span",{"data-testid":"todays-date","aria-label":this.state.label,className:t,dateTime:this.state.dateTime},void 0,n?i()("span",{className:o},void 0,"Updated"):null,this.state.localeTimestamp):i()("span",{className:t},void 0," ")}}])}(b.Component);w.displayName="Timestamp",w.defaultProps={unix:void 0,iso:void 0,className:void 0,updatedText:!1,updatedTextClassName:void 0,theme:void 0},t.a=Object(v.withTheme)(w)},"f+2V":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r}));var o=function(e,t){13!==e.keyCode&&32!==e.keyCode||t()},i=function(e,t){13===e.keyCode&&t()},r=function(e,t){27===e.keyCode&&t()}},izyI:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var o=n("gcR/"),i=n.n(o),r=n("lSNA"),a=n.n(r),c=(n("q1tI"),n("Jqp9")),s=n("kILT"),l=n("ZKN5"),d=n("wXC7"),u=n.n(d),m=Object(c.css)("display:inline-block;margin-right:10px;overflow:hidden;object-fit:cover;.medium &{border-radius:50%;height:30px;width:30px;}.small &{border-radius:50%;height:26px;width:26px;}span&{background:",u.a.color.gray50,";color:",u.a.color.white,";display:inline-block;font-size:12px;text-align:center;text-transform:uppercase;.medium &{line-height:33px;}.small &{line-height:29px;}}.placeholder &{background:",u.a.color.gray80,";}"),p=new RegExp("http(s?)://graphics8.nytimes.com/images/apps/timespeople/none.png"),f="medium",b="small";function v(e){var t=e.url,n=e.title,o=e.size,r=e.placeholder,a=function(e){return e&&p.test(e)?null:e}(t);return i()("div",{className:Object(c.cx)(o,{placeholder:r}),"aria-hidden":"true"},void 0,a&&i()("img",{className:m,alt:n,src:a,onError:function(e){var t=e.currentTarget;t.onerror=null,t.outerHTML="<span class=".concat(m,">").concat(n.substr(0,1),"</span>")}}),!a&&i()("span",{className:m},void 0,n.substr(0,1)))}v.displayName="UserHeader",v.defaultProps={size:f,title:"",url:null,placeholder:!1};var h,g=Object(l.a)(v),y=n("VOpz"),w={MEDIUM:"medium",SMALL:"small"},x=a()(a()({},w.MEDIUM,f),w.SMALL,b);function O(e){var t=e.title,n=e.location,o=e.avatarUrl,r=e.secondaryContent,a=e.size,l=e.avatarTitle,d=e.placeholder,u=e.isStaffCommenter,m=e.nytTitle,p=e.timeStamp;return d?i()("div",{className:Object(c.cx)(y.k,y.a)},void 0,i()(g,{size:x[a],placeholder:!0}),i()("div",{className:y.b},void 0,i()("div",{className:y.g}),i()("div",{className:y.e}))):i()("div",{className:y.k},void 0,i()(g,{title:l||t,url:o,size:x[a]}),i()("div",{className:y.b},void 0,i()("div",{className:y.g},void 0,t,u&&(h||(h=i()("div",{className:s.b})))),i()("div",{className:y.e},void 0,i()("span",{className:y.f},void 0,u?i()("span",{},void 0,m):i()("span",{dangerouslySetInnerHTML:{__html:n}}),p))),r&&i()("div",{className:y.c},void 0,r))}O.displayName="UserHeader",O.defaultProps={title:"",location:"",avatarUrl:null,secondaryContent:null,size:w.M,avatarTitle:null,placeholder:!1,isStaffCommenter:!1,timeStamp:null,nytTitle:""};t.b=O},kILT:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l}));var o=n("Jqp9"),i=n("wXC7"),r=n.n(i),a=Object(o.css)("border:1px solid ",r.a.color.gray60,";border-radius:3px;color:",r.a.color.black,";font-family:",r.a.font.franklinBase,";font-size:",r.a.font.size(15),";line-height:",r.a.font.size(18),";padding:10px 15px;transition:0.6s;width:100%;&:focus{border-color:",r.a.color.blue20,";}"),c=Object(o.css)("overflow-wrap:break-word;word-wrap:break-word;word-break:break-word;white-space:pre-wrap;"),s=Object(o.css)("color:",r.a.color.red10,";display:inline-block;"),l=Object(o.css)("border-radius:50%;height:18px;width:18px;background-color:",r.a.color.black,";background-image:url('","/vi-assets/static-assets/icon-t-logo-16x16-white-6d6d01f365f1dbdab596ce5f3e5b4592.svg","');background-position:center;background-repeat:no-repeat;background-size:10px 10px;display:inline-block;margin-left:4px;vertical-align:text-bottom;white-space:nowrap;")},vAfL:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return ln}));var o=n("VkAN"),i=n.n(o),r=n("gcR/"),a=n.n(r),c=n("q1tI"),s=n.n(c),l=n("QS0n"),d=n("eFc+"),u=n.n(d),m=n("ZKN5"),p=n("8iTF"),f=n("TVGw"),b=n("lSNA"),v=n.n(b),h=n("J4zp"),g=n.n(h),y=n("X6oL"),w=n("cr+I"),x=n.n(w),O=n("Vg22"),j=n("wXC7"),I=n.n(j),C=n("iEJF"),k=n("f+2V"),N=n("rONy"),T=n("fZdH"),E=n("NW2b"),z=n("SYzA"),S=n("HChe"),L=n("Rb+W"),R=n("06b3"),_=n("taqW"),P=n("Jqp9"),A=n("hU1o"),B=n("hKNt"),M=n("a9ya"),H=n("e0Jg"),U=n("RIqP"),F=n.n(U),D=n("cFmA"),V=n("f81r"),W=n("uyHG"),G=n.n(W),q=n("2oaX"),J=(G()((function(e){return null==e?void 0:e[Math.floor(Math.random()*e.length)]})),G()((function(e,t,n){var o;return null==e||null===(o=e.commentIds)||void 0===o?void 0:o.filter((function(e){return Object(q.b)(t,e).attributes.text.length<=n}))})),n("B2Q+")),X=n("dlEz"),K=n("7FfI"),Y=n("izyI"),Q=n("kILT"),Z=Object(P.css)("padding-top:10px;"),$=Object(P.css)("font-size:",I.a.font.size(13),";line-height:",I.a.font.size(17),";h6{color:#589714;font-weight:",I.a.font.weight.bold,";}"),ee=Object(P.css)("font-size:",I.a.font.size(14),";line-height:",I.a.font.size(18),";background:",I.a.color.gray90,";margin-top:15px;padding:15px;"),te=Object(P.css)(Q.d,";font-size:",I.a.font.size(14),";line-height:",I.a.font.size(20),";margin-left:40px;");function ne(e){var t=e.avatarUrl,n=e.location,o=e.commentNotify,i=e.displayName,r=e.text,c=e.isReply,s=e.isStaffCommenter,l=e.nytTitle;return a()("div",{className:Object(P.cx)(v()({},Z,c))},void 0,a()("div",{className:$},void 0,a()("h6",{},void 0,s?V.a.commentPosted:V.a.submissionThanks),function(e,t){return e?V.a.verifiedAccountAutoApproved:t?V.a.waitingOnApprovalNotify:V.a.waitingOnApproval}(s,o)),a()("div",{className:ee},void 0,a()(Y.b,{size:Y.a.MEDIUM,title:i,avatarUrl:t,location:n,timeStamp:!s&&a()("span",{},void 0,V.a.pendingApproval),nytTitle:l,isStaffCommenter:s}),a()("div",{className:te},void 0,a()("p",{},void 0,r))))}ne.displayName="SubmittedComment",ne.defaultProps={avatarUrl:null,isReply:!1,isStaffCommenter:!1,nytTitle:"",location:""};var oe,ie=Object(O.connect)((function(e,t){var n=e.profile.data;return{avatarUrl:n.picURL,commentNotify:Boolean(n.comment_notify),displayName:n.displayName,email:n.email,isStaffCommenter:n.isReporter,location:n.location,nytTitle:n.title,text:e.commentEntry.submittedComments[t.replyToCommentId]}}))(ne),re=n("InUh"),ae=n.n(re),ce=ae()((function(){return Promise.all([n.e(160),n.e(73)]).then(n.bind(null,"69BI"))}),{loadableGenerated:{webpack:function(){return["69BI"]},modules:["./CommentForm"]}}),se=Object(P.css)("position:relative;");function le(e){var t=e.replyToCommentId,n=e.article;return a()("div",{className:se},void 0,a()(ce,{article:n,replyToCommentId:t}))}le.displayName="CommentEntry",le.defaultProps={replyToCommentId:void 0},le.fragments={article:u()(oe||(oe=i()(["\n    fragment CommentEntry_article on Article {\n      id\n      ...CommentForm_article\n    }\n    fragment CommentForm_article on Article {\n      id\n      url\n    }\n  "])))};var de=Object(O.connect)()(le),ue=Object(P.css)("font-size:",I.a.font.size(12),";font-weight:",I.a.font.weight.light,";line-height:",I.a.font.size(16),";margin-top:15px;h4{color:",I.a.color.gray35,";text-transform:uppercase;}"),me=Object(P.css)("border-left:2px solid ",I.a.color.gray70,";padding-left:15px;"),pe=Object(P.css)("background:",I.a.color.white,";border:1px solid ",I.a.color.gray50,";border-radius:4px;color:",I.a.color.gray27,";display:block;font-size:0.62rem;font-weight:",I.a.font.weight.medium,";letter-spacing:0.025rem;line-height:",I.a.font.size(18),";margin-top:20px;padding:5px 0;text-transform:uppercase;width:100%;&:hover{background-color:",I.a.color.gray90,";border:1px solid ",I.a.color.gray60,";color:",I.a.color.gray25,";}"),fe=function(e){var t=e.numTotalReplies,n=e.replies,o=e.viewId,i=e.fetchReplies,r=e.isFetchingReplies,c=e.isAcceptingComments,s=e.sourceId,l=e.articleId;if(0===t)return null;var d=n.length<t;return a()("div",{className:ue},void 0,a()("h4",{},void 0,t," ",t>1?V.a.replies:V.a.reply),a()("div",{className:me,"aria-live":"polite"},void 0,n.map((function(e){return a()(Ke,{commentId:e,viewId:o,isAcceptingComments:c,isNested:!0,sourceId:s,articleId:l},e)}))),d&&a()("button",{type:"button",className:pe,onClick:i},void 0,r?V.a.loading:V.a.viewAllReplies))};fe.displayName="ReplyList",fe.defaultProps={fetchReplies:void 0,isFetchingReplies:void 0,isAcceptingComments:void 0};var be=fe,ve=n("PgO9"),he=n("HUmG"),ge=n("TwAE"),ye=n("Id00"),we=n("GUXu");function xe(e){var t=e.hasUserRecommended,n=e.recommendedCount,o=e.unrecommendComment,i=e.recommendComment,r=Object(ve.a)().user,c=Object(y.useTracking)(),s=t?V.a.recommended:V.a.recommend,l=n>0?"".concat(n," ").concat(s):s;return Object(he.d)(r)?a()(we.b,{theme:we.a.SECONDARY,onClick:function(){return function(e){t?(c.trackEvent(Object(H.p)(e)),o()):(c.trackEvent(Object(H.j)(e)),i())}(l)}},void 0,l):a()(we.b,{theme:we.a.SECONDARY},void 0,a()(ye.a,{},void 0,l))}xe.displayName="RecommendButton";var Oe=Object(O.connect)((function(e,t){return{recommendedCount:Object(q.e)(e,t.commentId),hasUserRecommended:Object(q.f)(e,t.commentId)}}),(function(e,t){return{recommendComment:function(){return e(Object(B.m)(t.commentId))},unrecommendComment:function(){return e(Object(B.p)(t.commentId))}}}))(xe);function je(e){var t=e.openCommentEntry,n=Object(ve.a)().user;return Object(he.d)(n)?a()(we.b,{theme:we.a.ACTION,onClick:function(){t()}},void 0,V.a.reply):a()(we.b,{theme:we.a.ACTION},void 0,a()(ye.a,{},void 0,V.a.reply))}je.displayName="ReplyButton";var Ie=Object(O.connect)(null,(function(e,t){return{openCommentEntry:function(){return e(Object(B.l)(t.replyToCommentId))}}}))(je);function Ce(e){var t=e.commentId,n=e.isNested,o=e.numReplies,i=e.replyToAuthorName,r=e.replyToCommentId,c=e.shouldHideReplies,s=e.isAcceptingComments,d=e.handleShowReplies,u=Object(l.useHistory)(),m=Object(l.useLocation)(),p=!n&&r&&i&&s;if(p)return a()("span",{},void 0,p&&a()(we.b,{theme:we.a.ACTION,onClick:function(e){e.preventDefault(),Object(f.f)({history:u,location:m},r)}},void 0,V.a.inReplyTo," ",i));if(c){var b="".concat(o," ").concat(o>1?V.a.replies:V.a.reply);return a()(we.b,{theme:we.a.ACTION,onClick:d},void 0,b)}return s?a()(Ie,{replyToCommentId:t}):null}Ce.defaultProps={isNested:!1,replyToAuthorName:void 0,replyToCommentId:void 0,isAcceptingComments:void 0,shouldHideReplies:void 0,handleShowReplies:function(){return null}};var ke=Object(O.connect)((function(e,t){return{numReplies:Object(q.d)(e,t.commentId),replyToCommentId:Object(q.h)(e,t.commentId),replyToAuthorName:Object(q.g)(e,t.commentId)}}))(Ce),Ne=n("7WMn"),Te=function(e){var t=e.sourceId,n=e.commentId,o=e.userIsModerator,i=e.articleId;if(!o)return null;return a()(we.b,{onClick:function(){var e=Object(Ne.b)()===Ne.a.PRD?"prd":"dev",o=i.includes("/live/")?"live":"article",r="https://moderator-dashboard.".concat(e,".nyt.net/articles/").concat(o,"_").concat(t,"/comments/").concat(n);window.open(r)}},void 0,"Moderate")};Te.displayName="InternalUseOnlyModerateButton";var Ee=Te,ze=n("KG2r");function Se(e){var t=e.commentId,n="https://www.nytimes.com/shared/comment/".concat(Number(t).toString(32)),o={headline:{default:"The New York Times"},summary:"",url:"".concat(n,"?rsrc=cshare")};return a()(ze.b,{share:o,trackingRegion:"comments",renderShareCopy:!1,renderGiftButton:!1})}Se.displayName="CommentsShareMenu";var Le=Se,Re=Object(P.css)("a,button{background:none;border:none;color:",I.a.color.linkColor,";font-family:",I.a.font.franklinBase,";font-size:",I.a.font.size(13),";line-height:",I.a.font.size(18),";margin-right:10px;text-align:left;text-decoration:none;vertical-align:top;&:hover{text-decoration:underline;cursor:pointer;}}"),_e=Object(P.css)("margin-right:0;float:right;a,button{color:",I.a.color.gray40,";}"),Pe=ae()((function(){return Promise.all([n.e(160),n.e(73)]).then(n.bind(null,"2XQA"))}),{loadableGenerated:{webpack:function(){return["2XQA"]},modules:["../FlagForm"]}});function Ae(e){var t=e.commentId,n=e.viewId,o=e.sourceId,i=e.isNested,r=e.shouldHideReplies,l=e.isAcceptingComments,d=e.handleShowReplies,u=e.userIsModerator,m=e.articleId,p=e.renderShareCopy,f=e.renderGiftButton,b=Object(ve.a)().user,v=Object(he.d)(b),h=Object(c.useState)("top"),y=g()(h,2),w=y[0],x=y[1],O=Object(c.useRef)(null);return Object(c.useEffect)((function(){var e=O.current;e&&(function(e){for(var t=e.offsetTop,n=e.offsetLeft,o=e.offsetWidth,i=e.offsetHeight;e.offsetParent;)t+=(e=e.offsetParent).offsetTop,n+=e.offsetLeft;return t<window.pageYOffset+window.innerHeight&&n<window.pageXOffset+window.innerWidth&&t+i>window.pageYOffset&&n+o>window.pageXOffset}(e)||x("bottom"))}),[]),a()("div",{},void 0,a()("div",{className:Re},void 0,a()(Ee,{userIsModerator:u,commentId:t,sourceId:o,articleId:m}),a()(ke,{handleShowReplies:d,shouldHideReplies:r,isAcceptingComments:l,viewId:n,commentId:t,isNested:i}),a()(Oe,{commentId:t}),s.a.createElement(ge.a,{width:215,ref:O,ariaLabel:"Share comment",arrowPosition:w,buttonContent:V.a.share,modalContent:a()(Le,{commentId:t,renderShareCopy:p,renderGiftButton:f}),isShareToolButton:!0}),a()("div",{className:_e},void 0,v&&a()(ge.a,{width:400,ariaLabel:"Flag content menu",arrowPosition:"top",className:_e,buttonContent:V.a.flag,modalContent:a()(Pe,{commentId:t})}),!v&&a()(ye.a,{},void 0,V.a.flag))))}Ae.displayName="Toolbar",Ae.defaultProps={viewId:null};var Be=Ae,Me=Object(P.css)("border-bottom:1px solid ",I.a.color.gray60,";font-family:",I.a.font.franklinBase,";font-weight:",I.a.font.weight.medium,";margin-top:20px;padding-bottom:20px;&:last-of-type{border:none;padding-bottom:40px;}"),He=Object(P.css)(Q.d,";margin-left:40px;"),Ue=Object(P.css)("display:inline-block;float:right;font-size:",I.a.font.size(12),";font-weight:",I.a.font.weight.bold,";line-height:",I.a.font.size(18),";white-space:nowrap;",I.a.breakpoint.medium,"{font-size:0.737rem;line-height:1.05rem;}&::before{border-radius:50%;height:18px;width:18px;background-color:#fcc772;background-image:url('","/vi-assets/static-assets/icon-t-logo-16x16-333333-d6642c94331b1039d5c1246dcdf3926a.svg","');background-position:center;background-repeat:no-repeat;background-size:10px 10px;content:'';display:inline-block;margin-right:4px;margin-bottom:-1px;vertical-align:sub;}"),Fe=Object(P.css)("font-size:",I.a.font.size(14),";line-height:",I.a.font.size(20),";overflow-x:hidden;a{color:",I.a.color.linkColor,";font-family:",I.a.font.franklinBase,";text-decoration:none;&:hover{text-decoration:underline;}",Q.d,";}"),De=Object(P.css)("font-size:",I.a.font.size(12),";line-height:",I.a.font.size(15),";color:",I.a.color.red10,";margin-top:5px;"),Ve=Object(P.css)("margin-top:15px;"),We=Object(P.css)("border:none;padding-bottom:0;.",He,"{margin-left:36px;}"),Ge=Object(P.css)("margin-top:10px;"),qe=Object(P.keyframes)("0%{background:rgba(254,250,209,0);}50%{background:rgba(254,250,209);}100%{background:rgba(254,250,209,0);}"),Je=function(e){return Object(P.css)("background:linear-gradient(to bottom,rgba(254,250,209),rgba(254,250,209));padding:20px;background-repeat:no-repeat;z-index:-1;height:100%;width:100%;top:0;left:0;animation:",qe," 2.2s ease-in-out forwards;background-size:100% ",e,"px;max-height:",e,"px;")};function Xe(e){var t,n=e.commentId,o=e.isNested,i=e.viewId,r=e.totalComments,d=e.commentIndex,u=e.isAcceptingComments,m=e.sourceId,p=e.articleId,b=e.error,h=Object(O.useSelector)((function(t){return function(e,t){var n,o=Object(q.h)(e,t.commentId),i=t.commentId,r=Object(q.b)(e,i);if(!r)return{error:!0};var a=r.attributes.authorPanel,c={profile:{name:a.name,location:a.location,avatarUrl:a.avatar,title:a.title},isoTimestamp:r.attributes.sourceApprovedAt,isHighlighted:Boolean(r.attributes.isHighlighted),isStaffCommenter:Boolean(r.attributes.isReporterReply),replyToCommentId:o,hasSubmittedReply:i in e.commentEntry.submittedComments,text:r.attributes.text,isFlagged:Object(q.k)(e,i),commentEntryReplyToCommentId:e.commentEntry.replyToCommentId,numTotalReplies:Object(q.d)(e,i),userIsModerator:null===(n=e.profile.data)||void 0===n?void 0:n.isModerator};return t.isNested||(c.isFetchingReplies=r.relationships.replies.isFetchingReplies,c.replies=Object(q.c)(e,i)||[]),c}(t,e)})),w=h.profile,x=h.isoTimestamp,j=h.isHighlighted,C=h.isStaffCommenter,k=h.replyToCommentId,N=h.hasSubmittedReply,T=h.text,E=h.isFlagged,z=h.commentEntryReplyToCommentId,S=h.numTotalReplies,L=h.userIsModerator,R=h.replies,_=h.isFetchingReplies,A=Object(O.useDispatch)(),U=Object(y.useTracking)(Object(H.c)(n)),F=U.Track,D=U.trackEvent,W=Object(l.useHistory)(),G=Object(l.useLocation)(),Q=Object(c.useState)(!1),Z=g()(Q,2),$=Z[0],ee=Z[1],te=Object(c.useState)(0),ne=g()(te,2),oe=ne[0],re=ne[1],ae=Object(c.useRef)(null);Object(c.useEffect)((function(){var e;re(null==ae||null===(e=ae.current)||void 0===e?void 0:e.clientHeight)}),[]),Object(c.useEffect)((function(){var e=window.location.hash,t=null==e?void 0:e.match(/\d+/),i=t?t[0]:null;if(i){var r=document.getElementById("comment-container-".concat(n)),a=null==r?void 0:r.getAttribute("id"),c=(null==a?void 0:a.split("-")[2])===i;if(c&&r&&r.scrollIntoView({behavior:"smooth",block:"start"}),ee(c),c&&!o)document.getElementById("comment-container-".concat(n)).style.paddingBottom="10px";if(c&&"smartphone"===Object(J.a)()){var s=document.getElementById("comment-container-".concat(n));s.style.paddingBottom="0",s.style.paddingTop="10px",s.style.paddingLeft="0"}}else ee(!1)}),[n,o]);var ce=Object(c.useState)((i===M.d.HIGHLIGHTED||i===M.d.RECOMMENDED)&&0!==S),se=g()(ce,2),le=se[0],ue=se[1],me=function(){i===M.d.REPORTER_REPLIES?A(Object(B.g)(p,n)):A(Object(B.i)(p,n,R.length)),D(Object(H.e)(V.a.viewAllReplies))},pe=function(e){e.preventDefault(),D(Object(H.l)(i,M.d.SINGLE_COMMENT)),k?Object(f.f)({history:W,location:G},k,n):Object(f.f)({history:W,location:G},n)};if(b)return null;var fe,ve=Object(K.formatDate)(x,"elapsed","en",!0),he="".concat(null==w?void 0:w.name," commented ").concat(ve),ge=!o&&!!S&&!le,ye=(fe=t||(t=a()(X.a,{iso:x,formatter:"elapsed"})),i===M.d.SINGLE_COMMENT?fe:a()("a",{href:"",onClick:pe},void 0,fe)),we=36+oe+65;return a()(F,{},void 0,a()("div",{className:Object(P.cx)(Me,v()({},We,o),$?Je(we):""),role:"article",tabIndex:0,"aria-setsize":r,"aria-posinset":d,"aria-labelledby":"comment-description-".concat(d),"aria-describedby":"comment-content-".concat(d),id:"comment-container-".concat(n)},void 0,a()("a",{className:Object(P.cx)(I.a.a11y.visuallyHidden),href:"",id:"comment-description-".concat(d),"aria-label":he,tabIndex:-1},void 0,he),a()(Y.b,{avatarTitle:null==w?void 0:w.name,title:null==w?void 0:w.name,avatarUrl:null==w?void 0:w.avatarUrl,location:null==w?void 0:w.location,timeStamp:ye,isStaffCommenter:C,secondaryContent:j&&a()("div",{className:Ue},void 0,V.a.timesPick),size:o?Y.a.SMALL:Y.a.MEDIUM,nytTitle:null==w?void 0:w.title}),a()("div",{className:He},void 0,s.a.createElement("p",{id:"comment-content-".concat(d),className:Fe,dangerouslySetInnerHTML:{__html:T},ref:ae}),E&&a()("div",{className:De},void 0,V.a.reported),!E&&a()("div",{className:Ve},void 0,a()(Be,{viewId:i,commentId:n,sourceId:m,isNested:o,handleShowReplies:function(){S>0&&0===R.length&&me(),ue(!1)},shouldHideReplies:le,isAcceptingComments:u,userIsModerator:L,articleId:p}),z===n&&a()("div",{className:Ge},void 0,a()(de,{replyToCommentId:n})),N&&a()(ie,{isReply:!0,replyToCommentId:n}),ge&&a()(be,{viewId:i,replies:R,numTotalReplies:S,fetchReplies:me,isFetchingReplies:_,isAcceptingComments:u,sourceId:m,articleId:p})))))}Xe.displayName="Comment",Xe.defaultProps={error:!1,isNested:!1,totalComments:0,commentIndex:0};var Ke=Object(m.a)(Xe),Ye=n("XnIf"),Qe=Object(P.css)("color:",I.a.color.blue20,";font-size:13px;margin-bottom:10px;position:relative;text-align:right;"),Ze=Object(P.css)("cursor:pointer;display:inline-block;"),$e=Object(P.css)("background:none;display:inline-block;width:9px;margin-left:6px;margin-bottom:2px;vertical-align:baseline;@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){height:10px;}"),et=Object(P.css)("background-color:",I.a.color.white,";cursor:pointer;position:absolute;right:0;width:105px;ul{border-style:solid;box-shadow:2px 4px 6px ",I.a.color.gray60,";padding-top:4px;text-align:left;}li{color:",I.a.color.black,";padding:10px;&:hover{background-color:",I.a.color.gray90,";}}"),tt=Object(P.css)("font-weight:",I.a.font.weight.mediumBold,";");function nt(e){var t=e.articleId,n=e.listId,o=e.sortOptions,i=e.sortCommentList,r=e.selectedSortType,l=Object(y.useTracking)(),d=Object(c.useRef)(null),u=Object(c.useRef)(null),m=Object(c.useState)(!1),p=g()(m,2),f=p[0],b=p[1];Object(c.useEffect)((function(){var e=function(e){null!=d.current&&d.current.contains(e.target)||b(!1)};return document.addEventListener("click",e,!0),function(){document.removeEventListener("click",e,!0)}}),[]);var h=function(){b(!f)},w=function(e,o){o.preventDefault(),e!==r&&(i(t,n,e),l.trackEvent(Object(H.m)(e))),h(),u.current&&u.current.focus()};if(0===o.length)return null;var x=o.find((function(e){return e.sortType===r}));return s.a.createElement("div",{className:Qe,ref:d},s.a.createElement("div",{role:"button",id:"comment-list-toggle-sort-options",tabIndex:0,onClick:h,onKeyDown:function(e){return Object(k.a)(e,h)},className:Ze,ref:u},a()("span",{},void 0,"Sort by: ",x.label),a()("button",{type:"button",className:$e,tabIndex:-1,"aria-expanded":f,"aria-haspopup":"true"},void 0,a()(Ye.a,{fill:I.a.color.blue20}))),f&&a()("div",{className:et},void 0,a()("ul",{role:"tablist"},void 0,o.map((function(e){var t=e.sortType,n=e.label;return a()("li",{onClick:function(e){return w(t,e)},onKeyDown:function(e){Object(k.a)(e,(function(){w(t,e)}))},role:"tab",className:Object(P.cx)(v()({},tt,t===r)),"aria-selected":t===r,tabIndex:0},t,n)})))))}nt.displayName="SortOptions",nt.defaultProps={selectedSortType:null};var ot=Object(O.connect)((function(e,t){var n=e.commentLists[t.listId];return{sortOptions:(n.sortTypes||[]).map((function(e){return{sortType:e,label:M.b[e]}})),selectedSortType:n.selectedSortType||null}}),(function(e){return{sortCommentList:function(t,n,o){return e(Object(B.o)(t,n,o))}}}))(nt),it=Object(P.css)("font-size:",I.a.font.size(13),";line-height:",I.a.font.size(20),";margin-top:20px;"),rt=Object(P.css)("background:",I.a.color.white,";border:1px solid ",I.a.color.gray50,";border-radius:4px;color:",I.a.color.gray27,";display:block;font-size:0.62rem;font-weight:",I.a.font.weight.medium,";letter-spacing:0.025rem;line-height:",I.a.font.size(18),";margin-top:20px;padding:5px 0;text-transform:uppercase;width:100%;&:hover{background-color:",I.a.color.gray90,";border:1px solid ",I.a.color.gray60,";color:",I.a.color.gray25,";}"),at=function(e){var t=e.children,n=e.offset,o=e.onEnter,i=e.onExit;if(e.disable||n>t.length)return t;var r=F()(t),c=a()(D.Waypoint,{onEnter:o,onExit:i},"waypointTwo");return r.splice(t.length-n,0,c),r};function ct(e){var t=e.shouldShowPanel,n=e.fetchCommentList,o=e.fetchCommentListNext,i=e.selectedSortType,r=e.viewId,s=e.articleId,l=e.listId,d=e.sourceId,u=e.commentIds,m=e.isFetching,p=e.isAcceptingComments,f=e.hasNext,b=e.isFetchingNext,v=Object(y.useTracking)();Object(c.useEffect)((function(){t&&n(s,l)}),[t,l,n,s]);var h=m||null===u?V.a.loading:0===u.length?V.a.noComments:null;if(h)return a()("div",{className:it},void 0,h);var g=V.a.readMore,w=V.a.loading;return a()("div",{role:"feed",tabIndex:-1,"aria-label":V.a.commentList},void 0,i&&a()(ot,{articleId:s,listId:l,viewId:r}),u&&a()(at,{offset:15,onEnter:function(){return o(s,l)},disable:!f},void 0,u.map((function(e,t){return a()(Ke,{tabIndex:0,totalComments:u.length,commentIndex:t+1,articleId:s,viewId:r,isAcceptingComments:p,commentId:e,sourceId:d},e+r)}))),f&&a()("button",{id:"comments-panel-read-more",type:"button",className:rt,onClick:function(){return e=g,v.trackEvent(Object(H.h)(r,e)),void o(s,l);var e},disabled:b},void 0,b?w:g))}ct.displayName="CommentList",ct.defaultProps={commentIds:null,selectedSortType:null,sourceId:void 0,isFetching:void 0,isFetchingNext:void 0,isAcceptingComments:void 0};var st,lt=Object(O.connect)((function(e,t){var n,o,i=function(e,t){var n=function(e,t){return e.views[t]||null}(e,t);return n?n.listId:null}(e,t.viewId),r=function(e,t){return e.commentLists[t]||null}(e,i),a=null,c=!1,s=null;return r&&(a=r.commentIds||null,c=!!r.nextUrl,s=r.selectedSortType||null),{listId:i,commentIds:a,hasNext:c,isFetching:null===(n=e.commentLists[i])||void 0===n?void 0:n.isFetching,isFetchingNext:null===(o=e.commentLists[i])||void 0===o?void 0:o.isFetchingNext,selectedSortType:s}}),(function(e){return{fetchCommentList:function(t,n){return e(Object(B.e)(t,n))},fetchCommentListNext:function(t,n){return e(Object(B.f)(t,n))}}}))(ct),dt=Object(P.css)("margin-top:10px;"),ut=Object(P.css)("color:",I.a.color.gray20,";font-size:",I.a.font.size(14),";font-weight:",I.a.font.weight.medium,";line-height:",I.a.font.size(18),";margin-bottom:12px;margin-top:15px;a{color:",I.a.color.blue20,";font-family:",I.a.font.franklinBase,";text-decoration:none;&:hover{text-decoration:underline;}}",I.a.breakpoint.medium,"{line-height:",I.a.font.size(20),";}"),mt=Object(P.css)(Q.c,";box-sizing:border-box;color:",I.a.color.gray30,";display:block;font-size:",I.a.font.size(14),";height:42px;line-height:",I.a.font.size(24),";padding-top:11px;"),pt=Object(P.css)("cursor:text;");function ft(e){var t,n=e.article,o=e.isFetching,i=e.isAcceptingComments,r=e.isStaffCommenter,c=e.commentEntryReplyToCommentId,l=e.openCommentEntry,d=Object(ve.a)().user,u=Object(y.useTracking)(),m=null==n||null===(t=n.commentProperties)||void 0===t?void 0:t.prompt;if(o)return null;if(!i)return a()("div",{className:Object(P.cx)(dt,ut),dangerouslySetInnerHTML:{__html:V.a.commentsClosed}});var p=Object(q.i)(),f=Object(he.d)(d);if(c===p&&f)return a()("div",{className:dt},void 0,a()(de,{article:n,replyToCommentId:p}));var b=V.a.commentPromptPlaceholder,v=m||V.a.welcome,h=V.a.moderationDisclaimer;return a()("div",{className:dt},void 0,f&&a()("span",{className:Object(P.cx)(mt,pt),onClick:l,onKeyPress:l,role:"textbox",tabIndex:"0"},void 0,b),!f&&a()(ye.a,{},void 0,a()("span",{className:mt},void 0,b)),a()("div",{className:ut},void 0,r?V.a.verifiedNote:s.a.createElement(s.a.Fragment,null,v," ",a()("a",{href:"https://www.nytimes.com/content/help/site/usercontent/usercontent.html",target:"_blank",rel:"noopener noreferrer",onClick:function(){return e=h,void u.trackEvent(Object(H.f)(e));var e}},void 0,h))))}ft.displayName="CommentPrompt",ft.defaultProps={article:void 0,isAcceptingComments:void 0,isFetching:void 0,commentEntryReplyToCommentId:void 0,isStaffCommenter:!1},ft.fragments={article:u()(st||(st=i()(["\n    fragment CommentPrompt_article on Article {\n      id\n      ...CommentEntry_article\n    }\n    ","\n  "])),de.fragments.article)};var bt=Object(O.connect)((function(e){var t,n;return{isStaffCommenter:null===(t=e.profile)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.isReporter,isFetching:e.article.isFetching&&e.profile.isFetching,commentQuestion:e.panel.commentQuestion||"",commentEntryReplyToCommentId:e.commentEntry.replyToCommentId}}),(function(e){return{openCommentEntry:function(){return e(Object(B.l)(Object(q.i)()))}}}))(ft),vt=Object(P.css)("background:none;border:none;color:",I.a.color.blue20,";font-size:",I.a.font.size(13),";font-weight:",I.a.font.weight.book,";line-height:",I.a.font.size(20),";"),ht=Object(P.css)("max-width:300px;text-align:center;"),gt=Object(P.css)("font-family:",I.a.font.franklinBase,";font-weight:",I.a.font.weight.bold,";font-size:17px;display:flex;justify-content:center;align-items:center;.",ht,"{padding:100px 0;}@supports (height:100vh){height:70vh;.",ht,"{padding:0;}}");function yt(e){var t=e.articleId,n=e.sourceId,o=e.commentId,i=e.isFetching,r=e.isCommentLoaded,s=e.isAcceptingComments,l=e.fetchComments,d=e.closeView,u=e.comment,m=Object(c.useState)(i),p=g()(m,2),f=p[0],b=p[1];return Object(c.useEffect)((function(){var e=function(){return b(!1)};l(t,o).then(e).catch(e)}),[t,o,l]),a()("div",{},void 0,a()("button",{type:"button",className:vt,onClick:d},void 0,V.a.backToAllComments),r&&a()(Ke,{articleId:t,sourceId:n,commentId:null==u?void 0:u.id,viewId:M.d.SINGLE_COMMENT,isAcceptingComments:s}),!f&&!r&&a()("div",{className:gt},void 0,a()("span",{className:ht},void 0,V.a.commentNotFound)))}yt.displayName="SingleComment",yt.defaultProps={isFetching:!0,sourceId:void 0,isAcceptingComments:void 0,isCommentLoaded:!1,comment:null};var wt,xt=Object(O.connect)((function(e,t){var n=Object(q.b)(e,t.commentId);return n=function t(n){var o,i,r,a;return null==n||(null==n||null===(o=n.attributes)||void 0===o?void 0:o.replyId)===Number.isNaN()||0===(null==n||null===(i=n.attributes)||void 0===i?void 0:i.replyId)||null===(null==n||null===(r=n.attributes)||void 0===r?void 0:r.replyId)?n:t(Object(q.b)(e,null==n||null===(a=n.attributes)||void 0===a?void 0:a.replyId))}(n),{isCommentLoaded:Boolean(n),comment:n}}),(function(e){return{fetchComments:function(t,n){return e(Object(B.g)(t,n))}}}))(yt),Ot=n("+4HN"),jt=Object(P.css)("font-family:",I.a.font.franklinBase,";font-weight:",I.a.font.weight.medium,";font-size:",I.a.font.size(17),";letter-spacing:0.2px;line-height:1.2rem;display:flex;justify-content:center;align-items:center;height:100%;width:100%;"),It=Object(P.css)("max-width:300px;p{padding:1em 0;}"),Ct=Object(P.css)("color:",I.a.color.blue20,";"),kt=function(){return wt||(wt=a()("div",{className:jt},void 0,a()("div",{className:It},void 0,a()("p",{},void 0,"Due to technical difficulties, comments are unavailable. We’re working to fix the issue as soon as possible."),a()("p",{},void 0,"If you have a critical piece of feedback for us, you can always reach the newsroom via the"," ",a()(Ot.a,{className:Ct,alt:"reader center",url:"https://www.nytimes.com/2017/08/08/reader-center/we-want-to-hear-from-you.html"},void 0,"Reader Center"),"."),a()("p",{},void 0,"Thank you for reading, and sorry for the trouble!"))))};kt.displayName="UnderMaintenance";var Nt=kt,Tt=Object(P.css)("position:relative;"),Et=Object(P.css)("background:-webkit-linear-gradient(left,rgba(255,255,255,0) 0%,rgba(255,255,255,1) 100%);height:42px;position:absolute;pointer-events:none;right:0;top:0;width:30px;z-index:2;"),zt=Object(P.css)("background:",I.a.color.white,";border-bottom:1px solid ",I.a.color.gray60,";box-shadow:0 6px 6px -6px ",I.a.color.gray60,";display:block;height:42px;-webkit-overflow-scrolling:touch;overflow-x:auto;overflow-y:hidden;&::-webkit-scrollbar{display:none;}@media (max-width:",I.a.breakpoint.width.small,"px){padding:0 20px;}ul{color:",I.a.color.gray35,";display:inline-block;font-size:",I.a.font.size(14),";line-height:",I.a.font.size(21),";overflow:hidden;white-space:nowrap;",I.a.breakpoint.medium,"{font-size:",I.a.font.size(14),";line-height:",I.a.font.size(21),";}",I.a.breakpoint.extraLarge,"{font-size:",I.a.font.size(14),";line-height:",I.a.font.size(21),";}li{display:inline-block;cursor:pointer;padding-top:15px;padding-bottom:4px;margin-right:20px;min-width:30px;text-align:center;font-weight:",I.a.font.weight.mediumBold,";a{color:",I.a.color.gray35,";}&.selected{border-bottom:2px solid ",I.a.color.black,";color:",I.a.color.black,";font-weight:",I.a.font.weight.mediumBold,";a{color:",I.a.color.black,";}}}}");function St(e){var t=e.tabs,n=e.selectedViewId,o=e.selectView,i=e.firstTabRef,r=Object(y.useTracking)();return 0===t.length?null:a()("div",{className:Tt},void 0,a()("div",{className:Et}),a()("div",{className:zt},void 0,a()("ul",{role:"tablist"},void 0,t.map((function(e,t){var c=e.viewId,l=e.label;return a()("li",{className:Object(P.cx)({selected:n===c}),role:"tab","aria-selected":n===c},c,s.a.createElement("a",{href:"",ref:0===t?i:null,tabIndex:0,onClick:function(e){return function(e,t){t.preventDefault(),e!==n&&(r.trackEvent(Object(H.l)(n,e)),o(e))}(c,e)}},l))})))))}St.displayName="Tabs",St.defaultProps={tabs:[],selectedViewId:null};var Lt,Rt=Object(O.connect)((function(e){return{tabs:e.panel.tabs}}),(function(e){return{selectView:function(t){return e(Object(B.n)(t))}}}))(St),_t=n("kV2j"),Pt=Object(P.css)("color:",I.a.color.black,";display:inline-block;font-weight:",I.a.font.weight.bold,";font-size:",I.a.font.size(30),";line-height:",I.a.font.size(34),";padding-left:2px;padding-right:2px;span{color:",I.a.color.gray20,";font-weight:",I.a.font.weight.medium,";font-size:",I.a.font.size(24),";line-height:",I.a.font.size(29),";}a:focus{outline:0;}"),At=Object(P.css)("color:",I.a.color.blue30,";display:none;font-family:",I.a.font.serifMedium,";line-height:1.18rem;margin-top:5px;text-decoration:none;&:hover{text-decoration:underline;}"),Bt=Object(P.css)("font-family:",I.a.font.franklinBase,";font-size:",I.a.font.size(14),";line-height:",I.a.font.size(20),";font-weight:",I.a.font.weight.bold,";text-transform:uppercase;letter-spacing:0.05em;top:50px;right:125px;"),Mt="Comments Panel";function Ht(e){var t=e.closePanel,n=e.skipToCommentList,o=e.commentCount,i=e.article;return a()("header",{},void 0,a()("h2",{className:Pt},void 0,a()("a",{href:"#commentsContainer",tabIndex:-1,"aria-label":Mt},void 0,"Comments ",o>0&&a()("span",{},void 0,o))),a()("a",{className:At,href:"",onClick:t},void 0,i.headline.default),a()("a",{href:"",className:Object(P.cx)(I.a.a11y.visuallyHidden,I.a.a11y.focusable,Bt),onClick:n,tabIndex:0},void 0,"Skip to Comments"))}Ht.displayName="Header",Ht.defaultProps={commentCount:void 0},Ht.fragments={article:u()(Lt||(Lt=i()(["\n    fragment Header_article on Article {\n      id\n      headline {\n        default\n      }\n    }\n  "])))};var Ut,Ft,Dt=Object(O.connect)((function(e){return{commentCount:Object(_t.b)(e)}}))(Ht),Vt=Object(P.css)("background-color:",I.a.color.white,";box-shadow:3px 0 12px 3px rgba(0,0,0,0.25);font-family:",I.a.font.franklinBase,";height:100%;overflow:hidden;position:fixed;right:0;top:0;width:100%;z-index:",I.a.zIndex.commentsPanel,";visibility:hidden;",I.a.printHide,";",I.a.breakpoint.small,"{width:530px;}"),Wt=Object(P.css)("transform:translateX(110%);transition:transform 300ms ease,visibility 300ms;"),Gt=Object(P.css)("visibility:visible;transform:none;transition:transform 300ms ease,visibility 300ms;"),qt=Object(P.css)(I.a.breakpoint.small,"{width:100%;}"),Jt=Object(P.css)("background-color:",I.a.color.white,";display:block;height:15px;right:16px;position:absolute;top:16px;width:15px;z-index:3;overflow:hidden;@media (max-width:",I.a.breakpoint.width.small,"px){right:15px;}"),Xt=Object(P.css)("height:100%;overflow-y:scroll;width:100%;-webkit-overflow-scrolling:touch;"),Kt=Object(P.css)("padding:40px 0;position:relative;box-sizing:border-box;height:100%;"),Yt=Object(P.css)("padding:0 40px;z-index:0;@media (max-width:",I.a.breakpoint.width.small,"px){padding:0 20px;}"),Qt=Object(P.css)("margin-bottom:10px;position:sticky;top:0;z-index:2;",I.a.breakpoint.small,"{padding:0 40px;}"),Zt=Object(P.css)("position:fixed;inset:0;background:rgba(0,0,0,0.3);z-index:1000000105;"),$t=Object(P.css)("height:15px;width:15px;scale:1.5;"),en=Object(S.a)(),tn=Object(L.f)(R.a),nn={name:"SHA_closePanel_cwv_0423",variants:["0_Control","1_Spinner"]};function on(e){var t,n=e.article,o=e.shouldShowPanel,i=Object(O.useDispatch)(),r=Object(l.useHistory)(),d=Object(l.useLocation)(),u=Object(z.a)(),m=Object(c.useRef)(null),b=Object(c.useRef)(null),h=Object(c.useRef)(null),w=Object(c.useRef)(null),j=Object(c.useRef)(null),S=Object(c.useState)(!1),L=g()(S,2),R=L[0],U=L[1],F=Object(c.useState)(!1),D=g()(F,2),V=D[0],W=D[1],G=Object(c.useState)(!1),J=g()(G,2),X=J[0],K=J[1],Y=Object(O.useSelector)((function(e){return function(e,t){var n,o={viewId:e.panel.viewId},i=Object(f.c)(t.location),r=i.commentId,a=i.replyCommentId;return r&&(o.backToViewId=o.viewId,o.viewId=M.d.SINGLE_COMMENT,o.singleComment={commentId:r,replyCommentId:a}),null!==(n=e.article)&&void 0!==n&&n.data&&(o.articleId=e.article.data.id),o.isAcceptingComments=Object(p.f)(e.article.commentStatus),o.hasSubmittedParentComment=!1,o.replyToCommentId=Object(q.i)(),o.isUnderMaintenance=e.panel.isUnderMaintenance||!1,e.commentEntry&&(o.hasSubmittedParentComment=Object(q.i)()in e.commentEntry.submittedComments),o}(e,{location:d})})),Q=Y.viewId,Z=Y.backToViewId,$=Y.singleComment,ee=Y.articleId,te=Y.isAcceptingComments,ne=Y.replyToCommentId,oe=Y.hasSubmittedParentComment,re=Y.isUnderMaintenance,ae=Object(y.useTracking)(Object(H.k)(Q)),ce=ae.Track,se=ae.trackEvent,le=Object(T.a)(),de=(null===(t=le[nn.name])||void 0===t?void 0:t.allocated)&&nn.variants.includes(le[nn.name].variant),ue=de&&le[nn.name].variant===nn.variants[1];de&&o&&Object(E.e)(nn.name);var me=function(){if(document&&window){var e=window.NYT_SPEECHBUBBLE||"comments-speech-bubble-top",t=document.getElementById(e);t&&(t.focus(),delete window.NYT_SPEECHBUBBLE)}},pe=function(){ue?(K(!0),setTimeout((function(){me(),Object(f.a)({history:r,location:d}),se(Object(H.b)())}),0),setTimeout((function(){K(!1)}),1e3)):(me(),Object(f.a)({history:r,location:d}),setTimeout((function(){se(Object(H.b)())}),0))},fe=function(e){return Object(k.c)(e,pe)},be=function(e){if("Tab"===e.key||9===e.keyCode){var t=null==h?void 0:h.current.querySelectorAll('button:not(button[id="comments-panel-read-more"]), [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),n=t[t.length-1];e.shiftKey&&document.activeElement===m.current&&(e.preventDefault(),n.focus()),e.shiftKey||document.activeElement!==n||(e.preventDefault(),m.current.focus())}},ve=function(){var e,t,o=x.a.parse(d.search);i(Object(B.h)(n.url)),i(Object(B.d)(ee,n.url)),m.current&&setTimeout((function(){return m.current.focus()}),450),"HPCommentsRefer"===o.modref?t=H.a.AUTOOPEN_HOME:"comment-approval"===o.emc?t=H.a.AUTOOPEN_EMAIL_LINK:Q===M.d.SINGLE_COMMENT?t=H.a.AUTOOPEN_PERMALINK:void 0===(null===(e=r.location)||void 0===e?void 0:e.state)&&r.location.hash==="#".concat(p.b.COMMENTS_PANEL)&&(t=H.a.AUTOOPEN),Object(f.g)({hidden:!0}),t&&setTimeout((function(){return se(Object(H.i)(t))}),1e3)},he=function(){return Object(f.e)({history:r,location:d})};Object(c.useEffect)((function(){var e;return o&&(e=setTimeout((function(){W(!0)}),3e3),V&&Object(N.a)((function(){!R&&o&&(window.Iterate("install","6193eb18c2492100018d54a9"),window.Iterate("identify",{agentId:tn,referrerUrl:document.referrer,referrerPage:document.location,device:en}),U(!0))}))),function(){clearTimeout(e)}}),[o,R,V]),Object(c.useEffect)((function(){o&&ve(),window.NYT_openCommentsPanel=he}),[]),Object(c.useEffect)((function(){null!==j.current&&!j.current&&o&&ve(),j.current=o;var e=null==m?void 0:m.current;return o&&e&&(document.addEventListener("keydown",fe),document.addEventListener("keydown",be)),function(){e&&(document.removeEventListener("keydown",fe),document.removeEventListener("keydown",be))}}),[o]);var ge=!re&&$&&$.commentId,ye=!re&&!ge,we=Object(A.a)().fastlyAbraConfig,xe="1_commentsTransition"!==(null==we?void 0:we.WP_cwv_inp_1023)?Wt:"";return a()(ce,{},void 0,a()("div",{id:"overlay-comment-pannel",className:Object(P.cx)(v()({},Zt,o&&!u)),onClick:function(e){e.stopPropagation(),"overlay-comment-pannel"===e.target.id&&pe()}},void 0,a()("div",{className:Object(P.cx)(Vt,xe,v()(v()({},Gt,o),qt,u)),id:"comments-panel",role:"region","aria-label":"comments panel","data-testid":"comments-panel",tabIndex:-1},void 0,!u&&s.a.createElement("button",{ref:m,type:"button",className:Jt,onClick:pe,"aria-label":"close comments panel","data-testid":"close-comments-panel"},X?a()(_.a,{fixed:!1,wrapperClass:$t}):a()(C.a,{tabIndex:0,stroke:I.a.color.gray30})),a()("div",{className:Xt},void 0,a()("div",{className:Kt},void 0,re&&(Ut||(Ut=a()(Nt,{}))),ge&&ee&&a()("div",{className:Yt},void 0,a()(xt,{tabIndex:0,sourceId:n.sourceId,articleId:ee,commentId:$.commentId,closeView:function(){Object(f.b)({history:r,location:d}),setTimeout((function(){se(Object(H.l)(M.d.SINGLE_COMMENT,Z))}),0)},isAcceptingComments:te})),ye&&a()("div",{},void 0,a()("div",{className:Yt},void 0,a()(Dt,{article:n,closePanel:pe,skipToCommentList:function(e){e.preventDefault(),w.current&&setTimeout((function(){return w.current.focus()}),500)}}),!oe&&a()(bt,{article:n,isAcceptingComments:te}),oe&&a()(ie,{replyToCommentId:ne})),s.a.createElement("div",{ref:b,className:Qt},a()(Rt,{selectedViewId:Q,firstTabRef:w})),s.a.createElement("div",{ref:h,className:Yt},ee&&Q&&a()(lt,{shouldShowPanel:o,isAcceptingComments:te,viewId:Q,articleId:ee,sourceId:n.sourceId}))))))))}on.displayName="CommentsPanel",on.fragments={article:u()(Ft||(Ft=i()(["\n    fragment CommentsPanel_article on Article {\n      id\n      ...CommentPrompt_article\n      ...Header_article\n      sourceId\n      url\n    }\n    ","\n    ","\n  "])),bt.fragments.article,Dt.fragments.article)};var rn,an=on;function cn(e){var t=e.article,n=Object(l.useLocation)();return Object(p.h)(t.commentProperties.status)?a()(an,{shouldShowPanel:Object(f.d)({location:n}),article:t}):null}cn.fragments={article:u()(rn||(rn=i()(["\n    fragment CommentsPanelContainer_article on Article {\n      id\n      commentProperties {\n        status\n        prompt\n      }\n      ...CommentsPanel_article\n    }\n    ","\n  "])),an.fragments.article)};var sn=Object(m.a)(cn);sn.displayName="CommentsPanelContainer";var ln=sn}}]);
//# sourceMappingURL=comments-add980bec28684b393be.js.map